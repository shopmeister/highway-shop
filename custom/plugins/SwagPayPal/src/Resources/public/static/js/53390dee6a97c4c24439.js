"use strict";(window["webpackJsonpPluginswag-pay-pal"]=window["webpackJsonpPluginswag-pay-pal"]||[]).push([[450],{8871:function(t,a,e){e.d(a,{Dq:function(){return s},Sb:function(){return g},b7:function(){return i},cM:function(){return l},lE:function(){return n},qJ:function(){return r},rt:function(){return o}});let n=["ar_EG","cs_CZ","da_DK","de_DE","el_GR","en_AU","en_GB","en_IN","en_US","es_ES","es_XC","fi_FI","fr_CA","fr_FR","fr_XC","he_IL","hu_HU","id_ID","it_IT","ja_JP","ko_KR","nl_NL","no_NO","pl_PL","pt_BR","pt_PT","ru_RU","sk_SK","sv_SE","th_TH","zh_CN","zh_HK","zh_TW","zh_XC"],s=["en-AU","de-DE","es-ES","fr-FR","en-GB","it-IT","en-US"],i=["CAPTURE","AUTHORIZE"],l=["LOGIN","GUEST_CHECKOUT","NO_PREFERENCE"],g=["blue","black","gold","silver","white"],o=["sharp","pill","rect"],r=["SwagPayPal.settings.clientId","SwagPayPal.settings.clientSecret","SwagPayPal.settings.clientIdSandbox","SwagPayPal.settings.clientSecretSandbox","SwagPayPal.settings.merchantPayerId","SwagPayPal.settings.merchantPayerIdSandbox","SwagPayPal.settings.sandbox","SwagPayPal.settings.intent","SwagPayPal.settings.submitCart","SwagPayPal.settings.brandName","SwagPayPal.settings.landingPage","SwagPayPal.settings.sendOrderNumber","SwagPayPal.settings.orderNumberPrefix","SwagPayPal.settings.orderNumberSuffix","SwagPayPal.settings.excludedProductIds","SwagPayPal.settings.excludedProductStreamIds","SwagPayPal.settings.ecsDetailEnabled","SwagPayPal.settings.ecsCartEnabled","SwagPayPal.settings.ecsOffCanvasEnabled","SwagPayPal.settings.ecsLoginEnabled","SwagPayPal.settings.ecsListingEnabled","SwagPayPal.settings.ecsButtonColor","SwagPayPal.settings.ecsButtonShape","SwagPayPal.settings.ecsButtonLanguageIso","SwagPayPal.settings.ecsShowPayLater","SwagPayPal.settings.spbButtonColor","SwagPayPal.settings.spbButtonShape","SwagPayPal.settings.spbButtonLanguageIso","SwagPayPal.settings.spbShowPayLater","SwagPayPal.settings.spbCheckoutEnabled","SwagPayPal.settings.spbAlternativePaymentMethodsEnabled","SwagPayPal.settings.acdcForce3DS","SwagPayPal.settings.puiCustomerServiceInstructions","SwagPayPal.settings.installmentBannerDetailPageEnabled","SwagPayPal.settings.installmentBannerCartEnabled","SwagPayPal.settings.installmentBannerOffCanvasCartEnabled","SwagPayPal.settings.installmentBannerLoginPageEnabled","SwagPayPal.settings.installmentBannerFooterEnabled","SwagPayPal.settings.vaultingEnabled","SwagPayPal.settings.vaultingEnableAlways","SwagPayPal.settings.vaultingEnabledWallet","SwagPayPal.settings.vaultingEnabledACDC","SwagPayPal.settings.vaultingEnabledVenmo","SwagPayPal.settings.crossBorderMessagingEnabled","SwagPayPal.settings.crossBorderBuyerCountry","SwagPayPal.settings.webhookId","SwagPayPal.settings.webhookExecuteToken","SwagPayPal.settings.merchantLocation","SwagPayPal.settings.plusCheckoutEnabled"]},450:function(t,a,e){e.r(a),e.d(a,{default:function(){return i}});var n=e(8871);let{Criteria:s}=Shopware.Data;var i=Shopware.Component.wrapComponentConfig({template:'<sw-card\n    class="swag-paypal-settings-express"\n    position-identifier="swag-paypal-settings-express"\n    :title="$t(\'swag-paypal-settings.express.title\')"\n    :subtitle="$t(\'swag-paypal-settings.express.subtitle\')"\n    :is-loading="settingsStore.isLoading"\n>\n    <sw-alert v-if="doubleOptInConfig" variant="warning">\n        {{ $t(\'swag-paypal-settings.express.alertMessage\') }}\n    </sw-alert>\n    <sw-alert v-if="phoneRequiredConfig" variant="warning">\n        <i18n-t keypath="swag-paypal-settings.express.alertMessagePhone" tag="p">\n            <template #url>\n                <a href="https://www.paypal.com/businessmanage/preferences/website" target="_blank">{{ $t(\'swag-paypal-settings.express.alertMessagePhoneLink\') }}</a>\n            </template>\n        </i18n-t>\n    </sw-alert>\n\n    <swag-paypal-setting path="SwagPayPal.settings.ecsDetailEnabled" />\n    <swag-paypal-setting path="SwagPayPal.settings.ecsCartEnabled" />\n    <swag-paypal-setting path="SwagPayPal.settings.ecsOffCanvasEnabled" />\n    <swag-paypal-setting path="SwagPayPal.settings.ecsLoginEnabled" />\n    <swag-paypal-setting path="SwagPayPal.settings.ecsListingEnabled" />\n\n    <swag-paypal-setting\n        path="SwagPayPal.settings.ecsButtonColor"\n        :options="buttonColorOptions"\n        :disabled="ecsSettingsDisabled"\n    />\n\n    <swag-paypal-setting\n        path="SwagPayPal.settings.ecsButtonShape"\n        :options="buttonShapeOptions"\n        :disabled="ecsSettingsDisabled"\n    />\n\n    <swag-paypal-setting\n        path="SwagPayPal.settings.ecsButtonLanguageIso"\n        :disabled="ecsSettingsDisabled"\n    >\n        <template #content="props">\n            <swag-paypal-settings-locale-select\n                :name="props.path"\n                :disabled="props.disabled"\n                :value="props.currentValue"\n                @update:value="props.updateCurrentValue"\n            />\n        </template>\n    </swag-paypal-setting>\n\n    <swag-paypal-setting\n        path="SwagPayPal.settings.ecsShowPayLater"\n        :disabled="ecsSettingsDisabled"\n    />\n</sw-card>\n\n<sw-card\n    class="swag-paypal-settings-installment"\n    position-identifier="swag-paypal-settings-installment"\n    :title="$t(\'swag-paypal-settings.installment.title\')"\n    :subtitle="$t(\'swag-paypal-settings.installment.subtitle\')"\n    :is-loading="settingsStore.isLoading"\n>\n    <swag-paypal-setting path="SwagPayPal.settings.installmentBannerDetailPageEnabled" />\n    <swag-paypal-setting path="SwagPayPal.settings.installmentBannerCartEnabled" />\n    <swag-paypal-setting path="SwagPayPal.settings.installmentBannerOffCanvasCartEnabled" />\n    <swag-paypal-setting path="SwagPayPal.settings.installmentBannerLoginPageEnabled" />\n    <swag-paypal-setting path="SwagPayPal.settings.installmentBannerFooterEnabled" />\n</sw-card>\n\n<sw-card\n    class="swag-paypal-settings-spb"\n    position-identifier="swag-paypal-settings-spb"\n    :is-loading="settingsStore.isLoading"\n>\n    <template #title>\n        <swag-paypal-setting\n            :bordered="false"\n            :label="$t(\'swag-paypal-settings.spb.title\')"\n            path="SwagPayPal.settings.spbCheckoutEnabled"\n            class="sw-card__title"\n        />\n    </template>\n\n    <swag-paypal-setting\n        path="SwagPayPal.settings.spbAlternativePaymentMethodsEnabled"\n        :disabled="sbpSettingsDisabled"\n    />\n\n    <swag-paypal-setting\n        path="SwagPayPal.settings.spbShowPayLater"\n        :disabled="sbpSettingsDisabled"\n    />\n\n    <swag-paypal-setting\n        path="SwagPayPal.settings.spbButtonColor"\n        :disabled="sbpSettingsDisabled"\n        :options="buttonColorOptions"\n    />\n\n    <swag-paypal-setting\n        path="SwagPayPal.settings.spbButtonShape"\n        :disabled="sbpSettingsDisabled"\n        :options="buttonShapeOptions"\n    />\n\n    <swag-paypal-setting\n        path="SwagPayPal.settings.spbButtonLanguageIso"\n        :disabled="sbpSettingsDisabled"\n    >\n        <template #content="props">\n            <swag-paypal-settings-locale-select\n                :name="props.path"\n                :disabled="props.disabled"\n                :value="props.currentValue"\n                @update:value="props.updateCurrentValue"\n            />\n        </template>\n    </swag-paypal-setting>\n</sw-card>\n',compatConfig:Shopware.compatConfig,inject:["systemConfigApiService","repositoryFactory"],data(){return{doubleOptInConfig:!1,phoneRequiredConfig:!1}},computed:{settingsStore(){return Shopware.Store.get("swagPayPalSettings")},buttonColorOptions(){return n.Sb.map(t=>({value:t,label:this.$t(`swag-paypal-settings.options.buttonColor.${t}`)}))},buttonShapeOptions(){return n.rt.map(t=>({value:t,label:this.$t(`swag-paypal-settings.options.buttonShape.${t}`)}))},sbpSettingsDisabled(){return!this.settingsStore.salesChannel&&!this.settingsStore.getActual("SwagPayPal.settings.spbCheckoutEnabled")},ecsSettingsDisabled(){return!this.settingsStore.salesChannel&&!this.settingsStore.getActual("SwagPayPal.settings.ecsDetailEnabled")&&!this.settingsStore.getActual("SwagPayPal.settings.ecsCartEnabled")&&!this.settingsStore.getActual("SwagPayPal.settings.ecsOffCanvasEnabled")&&!this.settingsStore.getActual("SwagPayPal.settings.ecsLoginEnabled")&&!this.settingsStore.getActual("SwagPayPal.settings.ecsListingEnabled")},systemConfigRepository(){return this.repositoryFactory.create("system_config")},systemConfigCriteria(){let t=new s;return t.addFilter(s.equalsAny("configurationKey",["core.loginRegistration.doubleOptInGuestOrder","core.loginRegistration.phoneNumberFieldRequired"])),this.settingsStore.salesChannel&&t.addFilter(s.equalsAny("salesChannelId",[this.settingsStore.salesChannel,null])),t}},watch:{"settingsStore.salesChannel":{immediate:!0,handler(){this.fetchDoubleOptIn()}}},methods:{async fetchDoubleOptIn(){let t=await this.systemConfigRepository.search(this.systemConfigCriteria);this.doubleOptInConfig=this.getInheritedConfigValue(t,"core.loginRegistration.doubleOptInGuestOrder"),this.phoneRequiredConfig=this.getInheritedConfigValue(t,"core.loginRegistration.phoneNumberFieldRequired")},getInheritedConfigValue(t,a){if(!this.settingsStore.salesChannel)return t.some(t=>t.configurationKey===a&&"true"===t.configurationValue);let e=t.find(t=>!t.salesChannelId&&t.configurationKey===a),n=t.find(t=>t.salesChannelId===this.settingsStore.salesChannel&&t.configurationKey===a);return n?"true"===n.configurationValue:e?.configurationValue==="true"}}})}}]);