(function(){var e={134:function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};t.Diff=function(e,t){return[e,t]},t.prototype.diff_main=function(e,n,s,a){void 0===a&&(a=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=a;if(null==e||null==n)throw Error("Null input. (diff_main)");if(e==n)return e?[new t.Diff(0,e)]:[];void 0===s&&(s=!0);var r=s,o=this.diff_commonPrefix(e,n),l=e.substring(0,o);e=e.substring(o),n=n.substring(o),o=this.diff_commonSuffix(e,n);var h=e.substring(e.length-o);e=e.substring(0,e.length-o),n=n.substring(0,n.length-o);var c=this.diff_compute_(e,n,r,i);return l&&c.unshift(new t.Diff(0,l)),h&&c.push(new t.Diff(0,h)),this.diff_cleanupMerge(c),c},t.prototype.diff_compute_=function(e,n,s,a){if(!e)return[new t.Diff(1,n)];if(!n)return[new t.Diff(-1,e)];var i,r=e.length>n.length?e:n,o=e.length>n.length?n:e,l=r.indexOf(o);if(-1!=l)return i=[new t.Diff(1,r.substring(0,l)),new t.Diff(0,o),new t.Diff(1,r.substring(l+o.length))],e.length>n.length&&(i[0][0]=i[2][0]=-1),i;if(1==o.length)return[new t.Diff(-1,e),new t.Diff(1,n)];var h=this.diff_halfMatch_(e,n);if(h){var c=h[0],d=h[1],f=h[2],p=h[3],u=h[4],g=this.diff_main(c,f,s,a),m=this.diff_main(d,p,s,a);return g.concat([new t.Diff(0,u)],m)}return s&&e.length>100&&n.length>100?this.diff_lineMode_(e,n,a):this.diff_bisect_(e,n,a)},t.prototype.diff_lineMode_=function(e,n,s){var a=this.diff_linesToChars_(e,n);e=a.chars1,n=a.chars2;var i=a.lineArray,r=this.diff_main(e,n,!1,s);this.diff_charsToLines_(r,i),this.diff_cleanupSemantic(r),r.push(new t.Diff(0,""));for(var o=0,l=0,h=0,c="",d="";o<r.length;){switch(r[o][0]){case 1:h++,d+=r[o][1];break;case -1:l++,c+=r[o][1];break;case 0:if(l>=1&&h>=1){r.splice(o-l-h,l+h),o=o-l-h;for(var f=this.diff_main(c,d,!1,s),p=f.length-1;p>=0;p--)r.splice(o,0,f[p]);o+=f.length}h=0,l=0,c="",d=""}o++}return r.pop(),r},t.prototype.diff_bisect_=function(e,n,s){for(var a=e.length,i=n.length,r=Math.ceil((a+i)/2),o=2*r,l=Array(o),h=Array(o),c=0;c<o;c++)l[c]=-1,h[c]=-1;l[r+1]=0,h[r+1]=0;for(var d=a-i,f=d%2!=0,p=0,u=0,g=0,m=0,w=0;w<r&&!(new Date().getTime()>s);w++){for(var v=-w+p;v<=w-u;v+=2){for(var b,_=r+v,y=(b=v==-w||v!=w&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1)-v;b<a&&y<i&&e.charAt(b)==n.charAt(y);)b++,y++;if(l[_]=b,b>a)u+=2;else if(y>i)p+=2;else if(f){var x=r+d-v;if(x>=0&&x<o&&-1!=h[x]){var S=a-h[x];if(b>=S)return this.diff_bisectSplit_(e,n,b,y,s)}}}for(var k=-w+g;k<=w-m;k+=2){for(var S,x=r+k,$=(S=k==-w||k!=w&&h[x-1]<h[x+1]?h[x+1]:h[x-1]+1)-k;S<a&&$<i&&e.charAt(a-S-1)==n.charAt(i-$-1);)S++,$++;if(h[x]=S,S>a)m+=2;else if($>i)g+=2;else if(!f){var _=r+d-k;if(_>=0&&_<o&&-1!=l[_]){var b=l[_],y=r+b-_;if(b>=(S=a-S))return this.diff_bisectSplit_(e,n,b,y,s)}}}}return[new t.Diff(-1,e),new t.Diff(1,n)]},t.prototype.diff_bisectSplit_=function(e,t,n,s,a){var i=e.substring(0,n),r=t.substring(0,s),o=e.substring(n),l=t.substring(s),h=this.diff_main(i,r,!1,a),c=this.diff_main(o,l,!1,a);return h.concat(c)},t.prototype.diff_linesToChars_=function(e,t){var n=[],s={};function a(e){for(var t="",a=0,r=-1,o=n.length;r<e.length-1;){-1==(r=e.indexOf("\n",a))&&(r=e.length-1);var l=e.substring(a,r+1);(s.hasOwnProperty?s.hasOwnProperty(l):void 0!==s[l])?t+=String.fromCharCode(s[l]):(o==i&&(l=e.substring(a),r=e.length),t+=String.fromCharCode(o),s[l]=o,n[o++]=l),a=r+1}return t}n[0]="";var i=4e4,r=a(e);return i=65535,{chars1:r,chars2:a(t),lineArray:n}},t.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var s=e[n][1],a=[],i=0;i<s.length;i++)a[i]=t[s.charCodeAt(i)];e[n][1]=a.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,s=Math.min(e.length,t.length),a=s,i=0;n<a;)e.substring(i,a)==t.substring(i,a)?i=n=a:s=a,a=Math.floor((s-n)/2+n);return a},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,s=Math.min(e.length,t.length),a=s,i=0;n<a;)e.substring(e.length-a,e.length-i)==t.substring(t.length-a,t.length-i)?i=n=a:s=a,a=Math.floor((s-n)/2+n);return a},t.prototype.diff_commonOverlap_=function(e,t){var n=e.length,s=t.length;if(0==n||0==s)return 0;n>s?e=e.substring(n-s):n<s&&(t=t.substring(0,n));var a=Math.min(n,s);if(e==t)return a;for(var i=0,r=1;;){var o=e.substring(a-r),l=t.indexOf(o);if(-1==l)return i;r+=l,(0==l||e.substring(a-r)==t.substring(0,r))&&(i=r,r++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n,s,a,i,r,o=e.length>t.length?e:t,l=e.length>t.length?t:e;if(o.length<4||2*l.length<o.length)return null;var h=this;function c(e,t,n){for(var s,a,i,r,o=e.substring(n,n+Math.floor(e.length/4)),l=-1,c="";(l=t.indexOf(o,l+1))!=-1;){var d=h.diff_commonPrefix(e.substring(n),t.substring(l)),f=h.diff_commonSuffix(e.substring(0,n),t.substring(0,l));c.length<f+d&&(c=t.substring(l-f,l)+t.substring(l,l+d),s=e.substring(0,n-f),a=e.substring(n+d),i=t.substring(0,l-f),r=t.substring(l+d))}return 2*c.length>=e.length?[s,a,i,r,c]:null}var d=c(o,l,Math.ceil(o.length/4)),f=c(o,l,Math.ceil(o.length/2));return d||f?(n=f?d&&d[4].length>f[4].length?d:f:d,e.length>t.length?(s=n[0],a=n[1],i=n[2],r=n[3]):(i=n[0],r=n[1],s=n[2],a=n[3]),[s,a,i,r,n[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var n=!1,s=[],a=0,i=null,r=0,o=0,l=0,h=0,c=0;r<e.length;)0==e[r][0]?(s[a++]=r,o=h,l=c,h=0,c=0,i=e[r][1]):(1==e[r][0]?h+=e[r][1].length:c+=e[r][1].length,i&&i.length<=Math.max(o,l)&&i.length<=Math.max(h,c)&&(e.splice(s[a-1],0,new t.Diff(-1,i)),e[s[a-1]+1][0]=1,a--,r=--a>0?s[a-1]:-1,o=0,l=0,h=0,c=0,i=null,n=!0)),r++;for(n&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),r=1;r<e.length;){if(-1==e[r-1][0]&&1==e[r][0]){var d=e[r-1][1],f=e[r][1],p=this.diff_commonOverlap_(d,f),u=this.diff_commonOverlap_(f,d);p>=u?(p>=d.length/2||p>=f.length/2)&&(e.splice(r,0,new t.Diff(0,f.substring(0,p))),e[r-1][1]=d.substring(0,d.length-p),e[r+1][1]=f.substring(p),r++):(u>=d.length/2||u>=f.length/2)&&(e.splice(r,0,new t.Diff(0,d.substring(0,u))),e[r-1][0]=1,e[r-1][1]=f.substring(0,f.length-u),e[r+1][0]=-1,e[r+1][1]=d.substring(u),r++),r++}r++}},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var s=e.charAt(e.length-1),a=n.charAt(0),i=s.match(t.nonAlphaNumericRegex_),r=a.match(t.nonAlphaNumericRegex_),o=i&&s.match(t.whitespaceRegex_),l=r&&a.match(t.whitespaceRegex_),h=o&&s.match(t.linebreakRegex_),c=l&&a.match(t.linebreakRegex_),d=h&&e.match(t.blanklineEndRegex_),f=c&&n.match(t.blanklineStartRegex_);return d||f?5:h||c?4:i&&!o&&l?3:o||l?2:i||r?1:0}for(var s=1;s<e.length-1;){if(0==e[s-1][0]&&0==e[s+1][0]){var a=e[s-1][1],i=e[s][1],r=e[s+1][1],o=this.diff_commonSuffix(a,i);if(o){var l=i.substring(i.length-o);a=a.substring(0,a.length-o),i=l+i.substring(0,i.length-o),r=l+r}for(var h=a,c=i,d=r,f=n(a,i)+n(i,r);i.charAt(0)===r.charAt(0);){a+=i.charAt(0),i=i.substring(1)+r.charAt(0),r=r.substring(1);var p=n(a,i)+n(i,r);p>=f&&(f=p,h=a,c=i,d=r)}e[s-1][1]!=h&&(h?e[s-1][1]=h:(e.splice(s-1,1),s--),e[s][1]=c,d?e[s+1][1]=d:(e.splice(s+1,1),s--))}s++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var n=!1,s=[],a=0,i=null,r=0,o=!1,l=!1,h=!1,c=!1;r<e.length;)0==e[r][0]?(e[r][1].length<this.Diff_EditCost&&(h||c)?(s[a++]=r,o=h,l=c,i=e[r][1]):(a=0,i=null),h=c=!1):(-1==e[r][0]?c=!0:h=!0,i&&(o&&l&&h&&c||i.length<this.Diff_EditCost/2&&o+l+h+c==3)&&(e.splice(s[a-1],0,new t.Diff(-1,i)),e[s[a-1]+1][0]=1,a--,i=null,o&&l?(h=c=!0,a=0):(r=--a>0?s[a-1]:-1,h=c=!1),n=!0)),r++;n&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push(new t.Diff(0,""));for(var n,s=0,a=0,i=0,r="",o="";s<e.length;)switch(e[s][0]){case 1:i++,o+=e[s][1],s++;break;case -1:a++,r+=e[s][1],s++;break;case 0:a+i>1?(0!==a&&0!==i&&(0!==(n=this.diff_commonPrefix(o,r))&&(s-a-i>0&&0==e[s-a-i-1][0]?e[s-a-i-1][1]+=o.substring(0,n):(e.splice(0,0,new t.Diff(0,o.substring(0,n))),s++),o=o.substring(n),r=r.substring(n)),0!==(n=this.diff_commonSuffix(o,r))&&(e[s][1]=o.substring(o.length-n)+e[s][1],o=o.substring(0,o.length-n),r=r.substring(0,r.length-n))),s-=a+i,e.splice(s,a+i),r.length&&(e.splice(s,0,new t.Diff(-1,r)),s++),o.length&&(e.splice(s,0,new t.Diff(1,o)),s++),s++):0!==s&&0==e[s-1][0]?(e[s-1][1]+=e[s][1],e.splice(s,1)):s++,i=0,a=0,r="",o=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(s=1;s<e.length-1;)0==e[s-1][0]&&0==e[s+1][0]&&(e[s][1].substring(e[s][1].length-e[s-1][1].length)==e[s-1][1]?(e[s][1]=e[s-1][1]+e[s][1].substring(0,e[s][1].length-e[s-1][1].length),e[s+1][1]=e[s-1][1]+e[s+1][1],e.splice(s-1,1),l=!0):e[s][1].substring(0,e[s+1][1].length)==e[s+1][1]&&(e[s-1][1]+=e[s+1][1],e[s][1]=e[s][1].substring(e[s+1][1].length)+e[s+1][1],e.splice(s+1,1),l=!0)),s++;l&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var n,s=0,a=0,i=0,r=0;for(n=0;n<e.length&&(1!==e[n][0]&&(s+=e[n][1].length),-1!==e[n][0]&&(a+=e[n][1].length),!(s>t));n++)i=s,r=a;return e.length!=n&&-1===e[n][0]?r:r+(t-i)},t.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,s=/</g,a=/>/g,i=/\n/g,r=0;r<e.length;r++){var o=e[r][0],l=e[r][1].replace(n,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(i,"&para;<br>");switch(o){case 1:t[r]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case -1:t[r]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[r]="<span>"+l+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,n=0,s=0,a=0;a<e.length;a++){var i=e[a][0],r=e[a][1];switch(i){case 1:n+=r.length;break;case -1:s+=r.length;break;case 0:t+=Math.max(n,s),n=0,s=0}}return t+Math.max(n,s)},t.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case -1:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,n){for(var s=[],a=0,i=0,r=n.split(/\t/g),o=0;o<r.length;o++){var l=r[o].substring(1);switch(r[o].charAt(0)){case"+":try{s[a++]=new t.Diff(1,decodeURI(l))}catch(e){throw Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var h=parseInt(l,10);if(isNaN(h)||h<0)throw Error("Invalid number in diff_fromDelta: "+l);var c=e.substring(i,i+=h);"="==r[o].charAt(0)?s[a++]=new t.Diff(0,c):s[a++]=new t.Diff(-1,c);break;default:if(r[o])throw Error("Invalid diff operation in diff_fromDelta: "+r[o])}}if(i!=e.length)throw Error("Delta length ("+i+") does not equal source text length ("+e.length+").");return s},t.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw Error("Null input. (match_main)");return(n=Math.max(0,Math.min(n,e.length)),e==t)?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},t.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var s,a,i,r=this.match_alphabet_(t),o=this;function l(e,s){var a=e/t.length,i=Math.abs(n-s);return o.Match_Distance?a+i/o.Match_Distance:i?1:a}var h=this.Match_Threshold,c=e.indexOf(t,n);-1!=c&&(h=Math.min(l(0,c),h),-1!=(c=e.lastIndexOf(t,n+t.length))&&(h=Math.min(l(0,c),h)));var d=1<<t.length-1;c=-1;for(var f=t.length+e.length,p=0;p<t.length;p++){for(s=0,a=f;s<a;)l(p,n+a)<=h?s=a:f=a,a=Math.floor((f-s)/2+s);f=a;var u=Math.max(1,n-a+1),g=Math.min(n+a,e.length)+t.length,m=Array(g+2);m[g+1]=(1<<p)-1;for(var w=g;w>=u;w--){var v=r[e.charAt(w-1)];if(0===p?m[w]=(m[w+1]<<1|1)&v:m[w]=(m[w+1]<<1|1)&v|((i[w+1]|i[w])<<1|1)|i[w+1],m[w]&d){var b=l(p,w-1);if(b<=h){if(h=b,(c=w-1)>n)u=Math.max(1,2*n-c);else break}}}if(l(p+1,n)>h)break;i=m}return c},t.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(var n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},t.prototype.patch_addContext_=function(e,n){if(0!=n.length){if(null===e.start2)throw Error("patch not initialized");for(var s=n.substring(e.start2,e.start2+e.length1),a=0;n.indexOf(s)!=n.lastIndexOf(s)&&s.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)a+=this.Patch_Margin,s=n.substring(e.start2-a,e.start2+e.length1+a);a+=this.Patch_Margin;var i=n.substring(e.start2-a,e.start2);i&&e.diffs.unshift(new t.Diff(0,i));var r=n.substring(e.start2+e.length1,e.start2+e.length1+a);r&&e.diffs.push(new t.Diff(0,r)),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+r.length,e.length2+=i.length+r.length}},t.prototype.patch_make=function(e,n,s){if("string"==typeof e&&"string"==typeof n&&void 0===s)a=e,(i=this.diff_main(a,n,!0)).length>2&&(this.diff_cleanupSemantic(i),this.diff_cleanupEfficiency(i));else if(e&&"object"==typeof e&&void 0===n&&void 0===s)i=e,a=this.diff_text1(i);else if("string"==typeof e&&n&&"object"==typeof n&&void 0===s)a=e,i=n;else if("string"==typeof e&&"string"==typeof n&&s&&"object"==typeof s)a=e,i=s;else throw Error("Unknown call format to patch_make.");if(0===i.length)return[];for(var a,i,r=[],o=new t.patch_obj,l=0,h=0,c=0,d=a,f=a,p=0;p<i.length;p++){var u=i[p][0],g=i[p][1];switch(l||0===u||(o.start1=h,o.start2=c),u){case 1:o.diffs[l++]=i[p],o.length2+=g.length,f=f.substring(0,c)+g+f.substring(c);break;case -1:o.length1+=g.length,o.diffs[l++]=i[p],f=f.substring(0,c)+f.substring(c+g.length);break;case 0:g.length<=2*this.Patch_Margin&&l&&i.length!=p+1?(o.diffs[l++]=i[p],o.length1+=g.length,o.length2+=g.length):g.length>=2*this.Patch_Margin&&l&&(this.patch_addContext_(o,d),r.push(o),o=new t.patch_obj,l=0,d=f,h=c)}1!==u&&(h+=g.length),-1!==u&&(c+=g.length)}return l&&(this.patch_addContext_(o,d),r.push(o)),r},t.prototype.patch_deepCopy=function(e){for(var n=[],s=0;s<e.length;s++){var a=e[s],i=new t.patch_obj;i.diffs=[];for(var r=0;r<a.diffs.length;r++)i.diffs[r]=new t.Diff(a.diffs[r][0],a.diffs[r][1]);i.start1=a.start1,i.start2=a.start2,i.length1=a.length1,i.length2=a.length2,n[s]=i}return n},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var s=0,a=[],i=0;i<e.length;i++){var r=e[i].start2+s,o=this.diff_text1(e[i].diffs),l=-1;if(o.length>this.Match_MaxBits?-1!=(c=this.match_main(t,o.substring(0,this.Match_MaxBits),r))&&(-1==(l=this.match_main(t,o.substring(o.length-this.Match_MaxBits),r+o.length-this.Match_MaxBits))||c>=l)&&(c=-1):c=this.match_main(t,o,r),-1==c)a[i]=!1,s-=e[i].length2-e[i].length1;else if(a[i]=!0,s=c-r,d=-1==l?t.substring(c,c+o.length):t.substring(c,l+this.Match_MaxBits),o==d)t=t.substring(0,c)+this.diff_text2(e[i].diffs)+t.substring(c+o.length);else{var h=this.diff_main(o,d,!1);if(o.length>this.Match_MaxBits&&this.diff_levenshtein(h)/o.length>this.Patch_DeleteThreshold)a[i]=!1;else{this.diff_cleanupSemanticLossless(h);for(var c,d,f,p=0,u=0;u<e[i].diffs.length;u++){var g=e[i].diffs[u];0!==g[0]&&(f=this.diff_xIndex(h,p)),1===g[0]?t=t.substring(0,c+f)+g[1]+t.substring(c+f):-1===g[0]&&(t=t.substring(0,c+f)+t.substring(c+this.diff_xIndex(h,p+g[1].length))),-1!==g[0]&&(p+=g[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),a]},t.prototype.patch_addPadding=function(e){for(var n=this.Patch_Margin,s="",a=1;a<=n;a++)s+=String.fromCharCode(a);for(var a=0;a<e.length;a++)e[a].start1+=n,e[a].start2+=n;var i=e[0],r=i.diffs;if(0==r.length||0!=r[0][0])r.unshift(new t.Diff(0,s)),i.start1-=n,i.start2-=n,i.length1+=n,i.length2+=n;else if(n>r[0][1].length){var o=n-r[0][1].length;r[0][1]=s.substring(r[0][1].length)+r[0][1],i.start1-=o,i.start2-=o,i.length1+=o,i.length2+=o}if(0==(r=(i=e[e.length-1]).diffs).length||0!=r[r.length-1][0])r.push(new t.Diff(0,s)),i.length1+=n,i.length2+=n;else if(n>r[r.length-1][1].length){var o=n-r[r.length-1][1].length;r[r.length-1][1]+=s.substring(0,o),i.length1+=o,i.length2+=o}return s},t.prototype.patch_splitMax=function(e){for(var n=this.Match_MaxBits,s=0;s<e.length;s++)if(!(e[s].length1<=n)){var a=e[s];e.splice(s--,1);for(var i=a.start1,r=a.start2,o="";0!==a.diffs.length;){var l=new t.patch_obj,h=!0;for(l.start1=i-o.length,l.start2=r-o.length,""!==o&&(l.length1=l.length2=o.length,l.diffs.push(new t.Diff(0,o)));0!==a.diffs.length&&l.length1<n-this.Patch_Margin;){var c=a.diffs[0][0],d=a.diffs[0][1];1===c?(l.length2+=d.length,r+=d.length,l.diffs.push(a.diffs.shift()),h=!1):-1===c&&1==l.diffs.length&&0==l.diffs[0][0]&&d.length>2*n?(l.length1+=d.length,i+=d.length,h=!1,l.diffs.push(new t.Diff(c,d)),a.diffs.shift()):(d=d.substring(0,n-l.length1-this.Patch_Margin),l.length1+=d.length,i+=d.length,0===c?(l.length2+=d.length,r+=d.length):h=!1,l.diffs.push(new t.Diff(c,d)),d==a.diffs[0][1]?a.diffs.shift():a.diffs[0][1]=a.diffs[0][1].substring(d.length))}o=(o=this.diff_text2(l.diffs)).substring(o.length-this.Patch_Margin);var f=this.diff_text1(a.diffs).substring(0,this.Patch_Margin);""!==f&&(l.length1+=f.length,l.length2+=f.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=f:l.diffs.push(new t.Diff(0,f))),h||e.splice(++s,0,l)}}},t.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},t.prototype.patch_fromText=function(e){var n=[];if(!e)return n;for(var s=e.split("\n"),a=0,i=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;a<s.length;){var r=s[a].match(i);if(!r)throw Error("Invalid patch string: "+s[a]);var o=new t.patch_obj;for(n.push(o),o.start1=parseInt(r[1],10),""===r[2]?(o.start1--,o.length1=1):"0"==r[2]?o.length1=0:(o.start1--,o.length1=parseInt(r[2],10)),o.start2=parseInt(r[3],10),""===r[4]?(o.start2--,o.length2=1):"0"==r[4]?o.length2=0:(o.start2--,o.length2=parseInt(r[4],10)),a++;a<s.length;){var l=s[a].charAt(0);try{var h=decodeURI(s[a].substring(1))}catch(e){throw Error("Illegal escape in patch_fromText: "+h)}if("-"==l)o.diffs.push(new t.Diff(-1,h));else if("+"==l)o.diffs.push(new t.Diff(1,h));else if(" "==l)o.diffs.push(new t.Diff(0,h));else if("@"==l)break;else if(""===l);else throw Error('Invalid patch mode "'+l+'" in: '+h);a++}}return n},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1;for(var e,t,n=["@@ -"+e+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],s=0;s<this.diffs.length;s++){switch(this.diffs[s][0]){case 1:t="+";break;case -1:t="-";break;case 0:t=" "}n[s+1]=t+encodeURI(this.diffs[s][1])+"\n"}return n.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=-1,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},64:function(){},171:function(){},108:function(){},886:function(){},813:function(){},888:function(){},202:function(){},849:function(){Shopware.Service("privileges").addPrivilegeMappingEntry({category:"additional_permissions",parent:null,key:"frosh_tools",roles:{frosh_tools:{privileges:["frosh_tools:read"],dependencies:[]}}})},311:function(e,t,n){var s=n(64);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),n(346).Z("778d9600",s,!0,{})},462:function(e,t,n){var s=n(171);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),n(346).Z("0cbdaaa0",s,!0,{})},478:function(e,t,n){var s=n(108);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),n(346).Z("66866832",s,!0,{})},978:function(e,t,n){var s=n(886);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),n(346).Z("99e225de",s,!0,{})},836:function(e,t,n){var s=n(813);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),n(346).Z("ad440e16",s,!0,{})},151:function(e,t,n){var s=n(888);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),n(346).Z("63bb3ea4",s,!0,{})},858:function(e,t,n){var s=n(202);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),n(346).Z("d86ad46a",s,!0,{})},346:function(e,t,n){"use strict";function s(e,t){for(var n=[],s={},a=0;a<t.length;a++){var i=t[a],r=i[0],o={id:e+":"+a,css:i[1],media:i[2],sourceMap:i[3]};s[r]?s[r].parts.push(o):n.push(s[r]={id:r,parts:[o]})}return n}n.d(t,{Z:function(){return u}});var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},r=a&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,h=!1,c=function(){},d=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function u(e,t,n,a){h=n,d=a||{};var r=s(e,t);return g(r),function(t){for(var n=[],a=0;a<r.length;a++){var o=i[r[a].id];o.refs--,n.push(o)}t?g(r=s(e,t)):r=[];for(var a=0;a<n.length;a++){var o=n[a];if(0===o.refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete i[o.id]}}}}function g(e){for(var t=0;t<e.length;t++){var n=e[t],s=i[n.id];if(s){s.refs++;for(var a=0;a<s.parts.length;a++)s.parts[a](n.parts[a]);for(;a<n.parts.length;a++)s.parts.push(w(n.parts[a]));s.parts.length>n.parts.length&&(s.parts.length=n.parts.length)}else{for(var r=[],a=0;a<n.parts.length;a++)r.push(w(n.parts[a]));i[n.id]={id:n.id,refs:1,parts:r}}}}function m(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function w(e){var t,n,s=document.querySelector("style["+f+'~="'+e.id+'"]');if(s){if(h)return c;s.parentNode.removeChild(s)}if(p){var a=l++;t=b.bind(null,s=o||(o=m()),a,!1),n=b.bind(null,s,a,!0)}else t=_.bind(null,s=m()),n=function(){s.parentNode.removeChild(s)};return t(e),function(s){s?(s.css!==e.css||s.media!==e.media||s.sourceMap!==e.sourceMap)&&t(e=s):n()}}var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function b(e,t,n,s){var a=n?"":s.css;if(e.styleSheet)e.styleSheet.cssText=v(t,a);else{var i=document.createTextNode(a),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function _(e,t){var n=t.css,s=t.media,a=t.sourceMap;if(s&&e.setAttribute("media",s),d.ssrId&&e.setAttribute(f,t.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={id:s,exports:{}};return e[s](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="bundles/froshtools/",window?.__sw__?.assetPath&&(n.p=window.__sw__.assetPath+"/bundles/froshtools/"),function(){"use strict";let{ApiService:e}=Shopware.Classes;var t=class extends e{constructor(e,t,n="_action/frosh-tools"){super(e,t,n)}getCacheInfo(){let t=`${this.getApiBasePath()}/cache`;return this.httpClient.get(t,{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}clearCache(t){let n=`${this.getApiBasePath()}/cache/${t}`;return this.httpClient.delete(n,{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}getQueue(){let t=`${this.getApiBasePath()}/queue/list`;return this.httpClient.get(t,{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}resetQueue(){let t=`${this.getApiBasePath()}/queue`;return this.httpClient.delete(t,{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}runScheduledTask(t){let n=`${this.getApiBasePath()}/scheduled-task/${t}`;return this.httpClient.post(n,{},{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}scheduleScheduledTask(t,n=!1){let s=`${this.getApiBasePath()}/scheduled-task/schedule/${t}`;return this.httpClient.post(s,{immediately:n},{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}deactivateScheduledTask(t){let n=`${this.getApiBasePath()}/scheduled-task/deactivate/${t}`;return this.httpClient.post(n,{},{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}scheduledTasksRegister(){let t=`${this.getApiBasePath()}/scheduled-tasks/register`;return this.httpClient.post(t,{},{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}healthStatus(t=!1){if(!this.loginService.isLoggedIn())return;let n=`${this.getApiBasePath()}/health/status`;return t&&(n=`${this.getApiBasePath()}/health-ping/status`),this.httpClient.get(n,{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}performanceStatus(){let t=`${this.getApiBasePath()}/performance/status`;return this.httpClient.get(t,{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}getLogFiles(){let t=`${this.getApiBasePath()}/logs/files`;return this.httpClient.get(t,{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}getLogFile(e,t=0,n=20){let s=`${this.getApiBasePath()}/logs/file`;return this.httpClient.get(s,{params:{file:e,offset:t,limit:n},headers:this.getBasicHeaders()}).then(e=>e)}getShopwareFiles(){let e=`${this.getApiBasePath()}/shopware-files`;return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then(e=>e)}getExtensionFiles(){let e=`${this.getApiBasePath()}/extension-files`;return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then(e=>e)}getFileContents(e){let t=`${this.getApiBasePath()}/file-contents`;return this.httpClient.get(t,{params:{file:e},headers:this.getBasicHeaders()}).then(e=>e)}restoreShopwareFile(e){let t=`${this.getApiBasePath()}/shopware-file/restore`;return this.httpClient.get(t,{params:{file:e},headers:this.getBasicHeaders()}).then(e=>e)}stateMachines(t){let n=`${this.getApiBasePath()}/state-machines/load/${t}`;return this.httpClient.get(n,{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}};let{ApiService:s}=Shopware.Classes;var a=class extends s{constructor(e,t,n="_action/frosh-tools/elasticsearch"){super(e,t,n)}status(){let e=`${this.getApiBasePath()}/status`;return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then(e=>s.handleResponse(e))}indices(){let e=`${this.getApiBasePath()}/indices`;return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then(e=>s.handleResponse(e))}deleteIndex(e){let t=`${this.getApiBasePath()}/index/`+e;return this.httpClient.delete(t,{headers:this.getBasicHeaders()}).then(e=>s.handleResponse(e))}console(e,t,n){let a=`${this.getApiBasePath()}/console`+t;return this.httpClient.request({url:a,method:e,headers:{...this.getBasicHeaders(),"content-type":"application/json"},data:n}).then(e=>s.handleResponse(e))}flushAll(){let e=`${this.getApiBasePath()}/flush_all`;return this.httpClient.post(e,{},{headers:this.getBasicHeaders()}).then(e=>s.handleResponse(e))}reindex(){let e=`${this.getApiBasePath()}/reindex`;return this.httpClient.post(e,{},{headers:this.getBasicHeaders()}).then(e=>s.handleResponse(e))}switchAlias(){let e=`${this.getApiBasePath()}/switch_alias`;return this.httpClient.post(e,{},{headers:this.getBasicHeaders()}).then(e=>s.handleResponse(e))}cleanup(){let e=`${this.getApiBasePath()}/cleanup`;return this.httpClient.post(e,{},{headers:this.getBasicHeaders()}).then(e=>s.handleResponse(e))}reset(){let e=`${this.getApiBasePath()}/reset`;return this.httpClient.post(e,{},{headers:this.getBasicHeaders()}).then(e=>s.handleResponse(e))}};let{Application:i}=Shopware;i.addServiceProvider("froshToolsService",e=>new t(i.getContainer("init").httpClient,e.loginService)),i.addServiceProvider("froshElasticSearch",e=>new a(i.getContainer("init").httpClient,e.loginService));let{Component:r}=Shopware;r.override("sw-data-grid-inline-edit",{template:'{% block sw_data_grid_inline_edit_type_unknown %}\n    <sw-datepicker\n        deprecated\n        v-else-if="column.inlineEdit === \'date\'"\n        key="date"\n        date-type="date"\n        v-model:value="currentValue"\n        name="sw-field--currentValue"\n    />\n\n    <sw-datepicker\n        deprecated\n        v-else-if="column.inlineEdit === \'datetime\'"\n        key="datetime"\n        date-type="datetime"\n        v-model:value="currentValue"\n        name="sw-field--currentValue"\n    />\n\n    {% parent() %}\n{% endblock %}'});let{Component:o}=Shopware;o.override("sw-version",{template:'{% block sw_version_status %}\n    <router-link\n        v-if="hasPermission"\n        :to="{ name: \'frosh.tools.index.index\' }"\n        class="sw-version__status has-permission"\n        v-tooltip="{\n            showDelay: 300,\n            message: healthPlaceholder\n        }"\n    >\n        {% block sw_version_status_badge %}\n        <sw-color-badge\n            v-if="health && hasPermission"\n            :variant="healthVariant"\n            :rounded="true"\n        ></sw-color-badge>\n        <template v-else>\n                {% parent %}\n            </template>\n        {% endblock %}\n    </router-link>\n\n    <template v-else>\n        {% parent %}\n    </template>\n{% endblock %}',inject:["froshToolsService","acl","loginService"],async created(){this.checkPermission()&&await this.checkHealth()},data(){return{health:null,hasPermission:!1}},computed:{healthVariant(){let e="success";for(let t of this.health){if("STATE_ERROR"===t.state){e="error";continue}"STATE_WARNING"===t.state&&"success"===e&&(e="warning")}return e},healthPlaceholder(){let e="Shop Status: Ok";if(null===this.health)return e;for(let t of this.health){if("STATE_ERROR"===t.state){e="Shop Status: May outage, Check System Status";continue}"STATE_WARNING"===t.state&&"Shop Status: Ok"===e&&(e="Shop Status: Issues, Check System Status")}return e}},methods:{async checkHealth(){this.health=await this.froshToolsService.healthStatus(!0),this.checkInterval=setInterval(async()=>{try{this.health=await this.froshToolsService.healthStatus(!0)}catch(e){console.error(e),clearInterval(this.checkInterval)}},6e4),this.loginService.addOnLogoutListener(()=>clearInterval(this.checkInterval))},checkPermission(){return this.hasPermission=this.acl.can("frosh_tools:read")}}}),n(462);let{Component:l}=Shopware;l.register("frosh-tools-tab-index",{inject:["froshToolsService"],template:'<sw-card-view>\n    <sw-card\n        class="frosh-tools-tab-index__health-card"\n        :isLoading="isLoading"\n        :large="true"\n        positionIdentifier="frosh-tools-tab-index"\n        deprecated\n    >\n        <template #toolbar>\n            \n            <sw-button\n                variant="ghost"\n                deprecated\n                @click="refresh"\n            >\n                <sw-icon\n                    deprecated\n                    :small="true"\n                    name="regular-undo"\n                ></sw-icon>\n            </sw-button>\n        </template>\n        <sw-card\n            class="frosh-tools-tab-index__health-card"\n            :title="$t(\'frosh-tools.tabs.index.title\')"\n            deprecated\n            :large="true"\n            positionIdentifier="frosh-tools-tab-index-health"\n        >\n            <template #grid>\n                <sw-data-grid\n                    v-if="health"\n                    :showSelection="false"\n                    :showActions="false"\n                    :dataSource="health"\n                    :columns="columns"\n                >\n                    <template #column-current="{ item }">\n                        <div>\n                            <sw-label\n                                variant="warning"\n                                appearance="pill"\n                                v-if="item.state === \'STATE_WARNING\'"\n                            >\n                                {{ $t(\'frosh-tools.warning\') }}\n                            </sw-label>\n                            <sw-label\n                                variant="danger"\n                                appearance="pill"\n                                v-if="item.state === \'STATE_ERROR\'"\n                            >\n                                {{ $t(\'frosh-tools.error\') }}\n                            </sw-label>\n                            <sw-label\n                                variant="info"\n                                appearance="pill"\n                                v-if="item.state === \'STATE_INFO\'"\n                            >\n                                {{ $t(\'frosh-tools.info\') }}\n                            </sw-label>\n                        </div>\n                        {{ item.current }}\n                    </template>\n\n                    <template #column-name="{ item }">\n                        {{ item.snippet }}\n                        <template v-if="item.url">\n                            &nbsp;\n                            <a\n                                :href="item.url"\n                                target="_blank"\n                            >Info</a>\n                        </template>\n                    </template>\n                </sw-data-grid>\n            </template>\n        </sw-card>\n        <sw-card\n            class="frosh-tools-tab-index__performance-card"\n            :title="$t(\'frosh-tools.tabs.index.performance\')"\n            :large="true"\n            positionIdentifier="frosh-tools-tab-index-performance"\n            deprecated\n        >\n            <template #grid>\n                <sw-card-section\n                    divider="bottom"\n                    v-if="performanceStatus && performanceStatus.length === 0"\n                >\n                    <sw-alert\n                        variant="success"\n                        deprecated\n                    >\n                        {{ $t(\'frosh-tools.noRecommendations\') }}\n                    </sw-alert>\n                </sw-card-section>\n                <sw-data-grid\n                    v-if="performanceStatus && performanceStatus.length > 0"\n                    :showSelection="false"\n                    :showActions="false"\n                    :dataSource="performanceStatus"\n                    :columns="columns"\n                >\n                    <template #column-current="{ item }">\n                        <div>\n                            <sw-label\n                                variant="warning"\n                                appearance="pill"\n                                v-if="item.state === \'STATE_WARNING\'"\n                            >\n                                {{ $t(\'frosh-tools.warning\') }}\n                            </sw-label>\n                            <sw-label\n                                variant="danger"\n                                appearance="pill"\n                                v-if="item.state === \'STATE_ERROR\'"\n                            >\n                                {{ $t(\'frosh-tools.error\') }}\n                            </sw-label>\n                            <sw-label\n                                variant="info"\n                                appearance="pill"\n                                v-if="item.state === \'STATE_INFO\'"\n                            >\n                                {{ $t(\'frosh-tools.info\') }}\n                            </sw-label>\n                            {{ item.current }}\n                        </div>\n                    </template>\n\n                    <template #column-name="{ item }">\n                        {{ item.snippet }}\n                        <template v-if="item.url">\n                            &nbsp;\n                            <a\n                                :href="item.url"\n                                target="_blank"\n                            >\n                                {{ $t(\'frosh-tools.tabs.index.info\') }}\n                            </a>\n                        </template>\n                    </template>\n                </sw-data-grid>\n            </template>\n        </sw-card>\n    </sw-card>\n</sw-card-view>',data(){return{isLoading:!0,health:null,performanceStatus:null}},created(){this.createdComponent()},computed:{columns(){return[{property:"name",label:"frosh-tools.name",rawData:!0},{property:"current",label:"frosh-tools.current",rawData:!0},{property:"recommended",label:"frosh-tools.recommended",rawData:!0}]}},methods:{async refresh(){this.isLoading=!0,await this.createdComponent()},async createdComponent(){this.health=await this.froshToolsService.healthStatus(),this.performanceStatus=await this.froshToolsService.performanceStatus(),this.isLoading=!1}}}),n(311);let{Component:h,Mixin:c}=Shopware,{Criteria:d}=Shopware.Data;h.register("frosh-tools-tab-cache",{template:'<sw-card-view>\n    <sw-card\n        class="frosh-tools-tab-cache__cache-card"\n        deprecated\n        :title="$t(\'frosh-tools.tabs.cache.title\')"\n        :isLoading="isLoading"\n        :large="true"\n        positionIdentifier="frosh-tools-tab-cache"\n    >\n        <template #toolbar>\n            \n            <sw-button\n                variant="ghost"\n                deprecated\n                @click="createdComponent"\n            >\n                <sw-icon\n                    deprecated\n                    :small="true"\n                    name="regular-undo"\n                ></sw-icon>\n            </sw-button>\n        </template>\n\n        <template #grid>\n            <sw-data-grid\n                :showSelection="false"\n                :dataSource="cacheFolders"\n                :columns="columns"\n            >\n                <template #column-name="{ item }">\n                    <sw-label\n                        variant="success"\n                        appearance="pill"\n                        v-if="item.active"\n                    >\n                        {{ $t(\'frosh-tools.active\') }}\n                    </sw-label>\n                    <sw-label\n                        variant="primary"\n                        appearance="pill"\n                        v-if="item.type"\n                    >\n                        {{ item.type }}\n                    </sw-label>\n                    {{ item.name }}\n                </template>\n\n                <template #column-size="{ item }">\n                    <template v-if="item.size < 0">\n                        {{ $t(\'frosh-tools.unknown\') }}\n                    </template>\n\n                    <template v-else>\n                        {{ formatSize(item.size) }}\n                    </template>\n                </template>\n\n                <template #column-freeSpace="{ item }">\n                    <template v-if="item.freeSpace < 0">\n                        {{ $t(\'frosh-tools.unknown\') }}\n                    </template>\n\n                    <template v-else>\n                        {{ formatSize(item.freeSpace) }}\n                    </template>\n                </template>\n\n                <template #actions="{ item }">\n                    <sw-context-menu-item\n                        variant="danger"\n                        @click="clearCache(item)"\n                    >\n                        {{ $t(\'frosh-tools.clear\') }}\n                    </sw-context-menu-item>\n                </template>\n            </sw-data-grid>\n        </template>\n    </sw-card>\n    <sw-card\n        class="frosh-tools-tab-cache__action-card"\n        deprecated\n        :title="$t(\'frosh-tools.actions\')"\n        :isLoading="isLoading"\n        :large="true"\n        positionIdentifier="frosh-tools-tab-cache-action"\n    >\n        <sw-button\n            variant="primary"\n            deprecated\n            @click="compileTheme"\n        >\n            {{ $t(\'frosh-tools.compileTheme\') }}\n        </sw-button>\n    </sw-card>\n</sw-card-view>',inject:["froshToolsService","repositoryFactory","themeService"],mixins:[c.getByName("notification")],data(){return{cacheInfo:null,isLoading:!0,numberFormater:null}},created(){let e=Shopware.Application.getContainer("factory").locale.getLastKnownLocale();this.numberFormater=new Intl.NumberFormat(e,{minimumFractionDigits:2,maximumFractionDigits:2}),this.createdComponent()},computed:{columns(){return[{property:"name",label:"frosh-tools.name",rawData:!0},{property:"size",label:"frosh-tools.used",rawData:!0,align:"right"},{property:"freeSpace",label:"frosh-tools.free",rawData:!0,align:"right"}]},cacheFolders(){return null===this.cacheInfo?[]:this.cacheInfo},salesChannelRepository(){return this.repositoryFactory.create("sales_channel")}},methods:{async createdComponent(){this.isLoading=!0,this.cacheInfo=await this.froshToolsService.getCacheInfo(),this.isLoading=!1},formatSize(e){return this.numberFormater.format(e/1048576)+" MiB"},async clearCache(e){this.isLoading=!0,await this.froshToolsService.clearCache(e.name),await this.createdComponent()},async compileTheme(){let e=new d;for(let t of(e.addAssociation("themes"),this.isLoading=!0,await this.salesChannelRepository.search(e,Shopware.Context.api))){let e=t.extensions.themes.first();e&&(await this.themeService.assignTheme(e.id,t.id),this.createNotificationSuccess({message:`${t.translated.name}: ${this.$t("frosh-tools.themeCompiled")}`}))}this.isLoading=!1}}}),n(978);let{Component:f,Mixin:p}=Shopware;f.register("frosh-tools-tab-queue",{template:'<sw-card-view>\n    <sw-card\n        class="frosh-tools-tab-queue__manager-card"\n        :title="$t(\'frosh-tools.tabs.queue.title\')"\n        :isLoading="isLoading"\n        :large="true"\n        positionIdentifier="frosh-tools-tab-queue"\n        deprecated\n    >\n        <template #toolbar>\n            <sw-button\n                variant="ghost"\n                deprecated\n                @click="refresh"\n            >\n                <sw-icon\n                    :small="true"\n                    deprecated\n                    name="regular-undo"\n                ></sw-icon>\n            </sw-button>\n            <sw-button\n                deprecated\n                @click="showResetModal = true"\n            >\n                {{ $t(\'frosh-tools.resetQueue\') }}\n            </sw-button>\n        </template>\n\n        <template #grid>\n            <sw-data-grid\n                :showSelection="false"\n                :dataSource="queueEntries"\n                :columns="columns"\n                :showActions="false"\n            >\n            </sw-data-grid>\n        </template>\n    </sw-card>\n    <sw-modal\n        v-if="showResetModal"\n        :title="$t(\'frosh-tools.tabs.queue.reset.modal.title\')"\n        variant="small"\n        @modal-close="showResetModal = false"\n    >\n        {{ $t(\'frosh-tools.tabs.queue.reset.modal.description\') }}\n        <template #modal-footer>\n            <sw-button\n                deprecated\n                @click="showResetModal = false"\n            >\n                {{ $t(\'global.default.cancel\') }}\n            </sw-button>\n            <sw-button\n                deprecated\n                @click="resetQueue"\n                variant="primary"\n            >\n                {{ $t(\'frosh-tools.tabs.queue.reset.modal.reset\') }}\n            </sw-button>\n        </template>\n    </sw-modal>\n</sw-card-view>',inject:["repositoryFactory","froshToolsService"],mixins:[p.getByName("notification")],data(){return{queueEntries:[],showResetModal:!1,isLoading:!0}},created(){this.createdComponent()},computed:{columns(){return[{property:"name",label:"frosh-tools.name",rawData:!0},{property:"size",label:"frosh-tools.size",rawData:!0}]}},methods:{async refresh(){this.isLoading=!0,await this.createdComponent()},async createdComponent(){for(let e of(this.queueEntries=await this.froshToolsService.getQueue(),this.queueEntries)){let t=e.name.split("\\");e.name=t[t.length-1]}this.isLoading=!1},async resetQueue(){this.isLoading=!0,await this.froshToolsService.resetQueue(),this.showResetModal=!1,await this.createdComponent(),this.createNotificationSuccess({message:this.$t("frosh-tools.tabs.queue.reset.success")}),this.isLoading=!1}}}),n(836);let{Component:u,Mixin:g}=Shopware,{Criteria:m}=Shopware.Data;u.register("frosh-tools-tab-scheduled",{template:'<sw-card-view>\n    <sw-card\n        class="frosh-tools-tab-scheduled__tasks-card"\n        :title="$t(\'frosh-tools.tabs.scheduledTaskOverview.title\')"\n        :isLoading="isLoading"\n        :large="true"\n        positionIdentifier="frosh-tools-tab-scheduled"\n        deprecated\n    >\n        <template #toolbar>\n            <sw-button\n                deprecated\n                variant="ghost"\n                @click="refresh"\n            >\n                <sw-icon\n                    :small="true"\n                    name="regular-undo"\n                    deprecated\n                ></sw-icon>\n            </sw-button>\n            <sw-button\n                deprecated\n                variant="primary"\n                @click="registerScheduledTasks"\n            >\n                {{ $t(\'frosh-tools.scheduledTasksRegisterStarted\') }}\n            </sw-button>\n        </template>\n\n        <template #grid>\n            <sw-entity-listing\n                :showSelection="false"\n                :fullPage="false"\n                :allowInlineEdit="true"\n                :allowEdit="false"\n                :allowDelete="false"\n                :showActions="true"\n                :repository="scheduledRepository"\n                :items="items"\n                :columns="columns"\n            >\n                <template #column-lastExecutionTime="{ item }">\n                    {{ date(item.lastExecutionTime, {hour: \'2-digit\', minute: \'2-digit\'}) }}\n                </template>\n\n                <template\n                    #column-nextExecutionTime="{ item, column, compact, isInlineEdit }"\n                >\n                    <sw-data-grid-inline-edit\n                        v-if="isInlineEdit"\n                        :column="column"\n                        :compact="compact"\n                        :value="item[column.property]"\n                        @update:value="item[column.property] = $event"\n                    >\n                    </sw-data-grid-inline-edit>\n                    <span v-else>\n                        {{ date(item.nextExecutionTime, {hour: \'2-digit\', minute: \'2-digit\'}) }}\n                    </span>\n                </template>\n\n                <template #actions="{ item }">\n                    <sw-context-menu-item\n                        variant="primary"\n                        @click="runTask(item)"\n                    >\n                        {{ $t(\'frosh-tools.runManually\') }}\n                    </sw-context-menu-item>\n                    <sw-context-menu-item\n                        variant="primary"\n                        @click="scheduleTask(item)"\n                    >\n                        {{ $t(\'frosh-tools.setToScheduled\') }}\n                    </sw-context-menu-item>\n                    <sw-context-menu-item\n                        variant="primary"\n                        @click="scheduleTask(item, true)"\n                    >\n                        {{ $t(\'frosh-tools.setToScheduledImmediately\') }}\n                    </sw-context-menu-item>\n                    <sw-context-menu-item\n                        variant="primary"\n                        @click="deactivateTask(item)"\n                    >\n                        {{ $t(\'frosh-tools.setToInactive\') }}\n                    </sw-context-menu-item>\n                </template>\n            </sw-entity-listing>\n        </template>\n    </sw-card>\n    <sw-modal\n        v-if="taskError"\n        :title="$t(\'global.default.error\')"\n        @modal-close="taskError = null"\n    >\n        <pre\n            v-if="typeof taskError === \'object\'"\n            v-text="taskError"\n        />\n        <div\n            v-else\n            v-html="taskError"\n        />\n        <template #modal-footer>\n            <sw-button\n                deprecated\n                size="small"\n                @click="taskError = null"\n            >\n                {{ $t(\'global.default.close\') }}\n            </sw-button>\n        </template>\n    </sw-modal>\n</sw-card-view>',inject:["repositoryFactory","froshToolsService"],mixins:[g.getByName("notification")],data(){return{items:null,showResetModal:!1,isLoading:!0,page:1,limit:25,taskError:null}},created(){this.createdComponent()},computed:{scheduledRepository(){return this.repositoryFactory.create("scheduled_task")},columns(){return[{property:"name",label:"frosh-tools.name",rawData:!0,primary:!0},{property:"runInterval",label:"frosh-tools.interval",rawData:!0,inlineEdit:"number"},{property:"lastExecutionTime",label:"frosh-tools.lastExecutionTime",rawData:!0},{property:"nextExecutionTime",label:"frosh-tools.nextExecutionTime",rawData:!0,inlineEdit:"datetime"},{property:"status",label:"frosh-tools.status",rawData:!0}]},date(){return Shopware.Filter.getByName("date")}},methods:{async refresh(){this.isLoading=!0,await this.createdComponent()},async createdComponent(){let e=new m(this.page,this.limit);e.addSorting(m.sort("nextExecutionTime","ASC")),this.items=await this.scheduledRepository.search(e,Shopware.Context.api),this.isLoading=!1},async runTask(e){this.isLoading=!0;try{this.createNotificationInfo({message:this.$t("frosh-tools.scheduledTaskStarted",{name:e.name})}),await this.froshToolsService.runScheduledTask(e.id),this.createNotificationSuccess({message:this.$t("frosh-tools.scheduledTaskSucceed",{name:e.name})})}catch(t){this.createNotificationError({message:this.$t("frosh-tools.scheduledTaskFailed",{name:e.name})}),this.taskError=t.response.data}this.createdComponent()},async scheduleTask(e,t=!1){this.isLoading=!0;try{this.createNotificationInfo({message:this.$t("frosh-tools.scheduledTaskScheduleStarted",{name:e.name})}),await this.froshToolsService.scheduleScheduledTask(e.id,t),this.createNotificationSuccess({message:this.$t("frosh-tools.scheduledTaskScheduleSucceed",{name:e.name})})}catch(t){this.createNotificationError({message:this.$t("frosh-tools.scheduledTaskScheduleFailed",{name:e.name})}),this.taskError=t.response.data}this.createdComponent()},async deactivateTask(e){this.isLoading=!0;try{this.createNotificationInfo({message:this.$t("frosh-tools.scheduledTaskDeactivateStarted",{name:e.name})}),await this.froshToolsService.deactivateScheduledTask(e.id),this.createNotificationSuccess({message:this.$t("frosh-tools.scheduledTaskDeactivateSucceed",{name:e.name})})}catch(t){this.createNotificationError({message:this.$t("frosh-tools.scheduledTaskDeactivateFailed",{name:e.name})}),this.taskError=t.response.data}this.createdComponent()},async registerScheduledTasks(){this.isLoading=!0;try{this.createNotificationInfo({message:this.$t("frosh-tools.scheduledTasksRegisterStarted")}),await this.froshToolsService.scheduledTasksRegister(),this.createNotificationSuccess({message:this.$t("frosh-tools.scheduledTasksRegisterSucceed")})}catch(e){this.createNotificationError({message:this.$t("frosh-tools.scheduledTasksRegisterFailed")}),this.taskError=e.response.data}this.createdComponent()}}});let{Mixin:w,Component:v}=Shopware;v.register("frosh-tools-tab-elasticsearch",{template:'<sw-card-view>\n    <sw-card\n        :title="$t(\'frosh-tools.tabs.elasticsearch.title\')"\n        deprecated\n        :large="true"\n        :isLoading="isLoading"\n        positionIdentifier="frosh-tools-tab-elasticsearch"\n    >\n        <sw-alert\n            variant="error"\n            deprecated\n            v-if="!isLoading && !isActive"\n        >\n            {{ $t(\'frosh-tools.tabs.elasticsearch.disabled\') }}\n        </sw-alert>\n        <div v-if="!isLoading && isActive">\n            <div>\n                <strong>\n                    {{ $t(\'frosh-tools.tabs.elasticsearch.version\') }}\n                    :\n                </strong>\n                {{ statusInfo.info.version.number }}\n            </div>\n            <div>\n                <strong>\n                    {{ $t(\'frosh-tools.tabs.elasticsearch.nodes\') }}\n                    :\n                </strong>\n                {{ statusInfo.health.number_of_nodes }}\n            </div>\n            <div>\n                <strong>\n                    {{ $t(\'frosh-tools.tabs.elasticsearch.status\') }}\n                    :\n                </strong>\n                {{ statusInfo.health.status }}\n            </div>\n        </div>\n    </sw-card>\n    <sw-card\n        :title="$t(\'frosh-tools.tabs.elasticsearch.indices\')"\n        deprecated\n        v-if="!isLoading && isActive"\n        :large="true"\n        positionIdentifier="frosh-tools-tab-elasticsearch-indices"\n    >\n        <template #toolbar>\n            \n            <sw-button\n                deprecated\n                variant="ghost"\n                @click="createdComponent"\n            >\n                <sw-icon\n                    :small="true"\n                    deprecated\n                    name="regular-undo"\n                ></sw-icon>\n            </sw-button>\n        </template>\n\n        <template #grid>\n            <sw-data-grid\n                v-if="indices"\n                :showSelection="false"\n                :dataSource="indices"\n                :columns="columns"\n            >\n                <template #column-name="{ item }">\n                    <sw-label\n                        variant="primary"\n                        appearance="pill"\n                        v-if="item.aliases.length"\n                    >\n                        {{ $t(\'frosh-tools.active\') }}\n                    </sw-label>\n                    {{ item.name }}\n                    <br/>\n                </template>\n\n                <template #column-indexSize="{ item }">\n                    {{ formatSize(item.indexSize) }}\n                    <br/>\n                </template>\n\n                <template #actions="{ item }">\n                    <sw-context-menu-item\n                        variant="danger"\n                        @click="deleteIndex(item.name)"\n                    >\n                        {{ $t(\'frosh-tools.delete\') }}\n                    </sw-context-menu-item>\n                </template>\n            </sw-data-grid>\n        </template>\n    </sw-card>\n    <sw-card\n        :title="$t(\'frosh-tools.actions\')"\n        v-if="!isLoading && isActive"\n        deprecated\n        :large="true"\n        positionIdentifier="frosh-tools-tab-elasticsearch-health"\n    >\n        <sw-button\n            deprecated\n            @click="reindex"\n            variant="primary"\n        >\n            {{ $t(\'frosh-tools.tabs.elasticsearch.action.reindex\') }}\n        </sw-button>\n        <sw-button\n            deprecated\n            @click="switchAlias"\n        >\n            {{ $t(\'frosh-tools.tabs.elasticsearch.action.switchAlias\') }}\n        </sw-button>\n        <sw-button\n            deprecated\n            @click="flushAll"\n        >\n            {{ $t(\'frosh-tools.tabs.elasticsearch.action.flushAll\') }}\n        </sw-button>\n        <sw-button\n            deprecated\n            @click="cleanup"\n        >\n            {{ $t(\'frosh-tools.tabs.elasticsearch.action.cleanup\') }}\n        </sw-button>\n        <sw-button\n            deprecated\n            @click="resetElasticsearch"\n            variant="danger"\n        >\n            {{ $t(\'frosh-tools.tabs.elasticsearch.action.reset\') }}\n        </sw-button>\n    </sw-card>\n    <sw-card\n        :title="$t(\'frosh-tools.tabs.elasticsearch.console.title\')"\n        deprecated\n        v-if="!isLoading && isActive"\n        :large="true"\n        positionIdentifier="frosh-tools-tab-elasticsearch-console"\n    >\n        <sw-code-editor\n            completionMode="text"\n            mode="twig"\n            :softWraps="true"\n            :setFocus="false"\n            :disabled="false"\n            :sanitizeInput="false"\n            v-model="consoleInput"\n        ></sw-code-editor>\n        <sw-button\n            deprecated\n            @click="onConsoleEnter"\n        >\n            {{ $t(\'frosh-tools.tabs.elasticsearch.console.send\') }}\n        </sw-button>\n        <div>\n            <strong>\n                {{ $t(\'frosh-tools.tabs.elasticsearch.console.output\') }}\n                :\n            </strong>\n        </div>\n        <pre>{{ consoleOutput }}</pre>\n    </sw-card>\n</sw-card-view>',inject:["froshElasticSearch"],mixins:[w.getByName("notification")],data(){return{isLoading:!0,isActive:!0,statusInfo:{},indices:[],consoleInput:"GET /_cat/indices",consoleOutput:{}}},computed:{columns(){return[{property:"name",label:"frosh-tools.name",rawData:!0,primary:!0},{property:"indexSize",label:"frosh-tools.size",rawData:!0,primary:!0},{property:"docs",label:"frosh-tools.docs",rawData:!0,primary:!0}]}},created(){this.createdComponent()},methods:{async createdComponent(){this.isLoading=!0;try{this.statusInfo=await this.froshElasticSearch.status()}catch{this.isActive=!1,this.isLoading=!1;return}finally{this.isLoading=!1}this.indices=await this.froshElasticSearch.indices()},formatSize(e){let t=e;if(1024>Math.abs(e))return e+" B";let n=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],s=-1;do t/=1024,++s;while(Math.round(10*Math.abs(t))/10>=1024&&s<n.length-1);return t.toFixed(1)+" "+n[s]},async deleteIndex(e){await this.froshElasticSearch.deleteIndex(e),await this.createdComponent()},async onConsoleEnter(){let e=this.consoleInput.split("\n"),t=e.shift(),n=e.join("\n").trim(),[s,a]=t.split(" ");try{this.consoleOutput=await this.froshElasticSearch.console(s,a,n)}catch(e){this.consoleOutput=e.response.data}},async reindex(){await this.froshElasticSearch.reindex(),this.createNotificationSuccess({message:this.$t("global.default.success")}),await this.createdComponent()},async switchAlias(){await this.froshElasticSearch.switchAlias(),this.createNotificationSuccess({message:this.$t("global.default.success")}),await this.createdComponent()},async flushAll(){await this.froshElasticSearch.flushAll(),this.createNotificationSuccess({message:this.$t("global.default.success")}),await this.createdComponent()},async resetElasticsearch(){await this.froshElasticSearch.reset(),this.createNotificationSuccess({message:this.$t("global.default.success")}),await this.createdComponent()},async cleanup(){await this.froshElasticSearch.cleanup(),this.createNotificationSuccess({message:this.$t("global.default.success")}),await this.createdComponent()}}}),n(478);let{Component:b,Mixin:_}=Shopware;b.register("frosh-tools-tab-logs",{template:'<sw-card-view>\n    <sw-card\n        class="frosh-tools-tab-logs__logs-card"\n        :title="$t(\'frosh-tools.tabs.logs.title\')"\n        :isLoading="isLoading"\n        :large="true"\n        positionIdentifier="frosh-tools-tab-logs"\n        deprecated\n    >\n        <template #toolbar>\n            <sw-button\n                variant="ghost"\n                deprecated\n                @click="refresh"\n            >\n                <sw-icon\n                    :small="true"\n                    name="regular-undo"\n                    deprecated\n                ></sw-icon>\n            </sw-button>\n            <sw-single-select\n                :options="logFiles"\n                :isLoading="isLoading"\n                :placeholder="$t(\'frosh-tools.tabs.logs.logFileSelect.placeholder\')"\n                labelProperty="name"\n                valueProperty="name"\n                v-model:value="selectedLogFile"\n                @update:value="onFileSelected"\n            ></sw-single-select>\n        </template>\n\n        <template #grid>\n            <sw-data-grid\n                :showSelection="false"\n                :showActions="false"\n                :dataSource="logEntries"\n                :columns="columns"\n            >\n                <template #column-date="{ item }">\n                    {{ date(item.date, {hour: \'2-digit\', minute: \'2-digit\', second: \'2-digit\'}) }}\n                </template>\n\n                <template #column-message="{ item }">\n                    <a @click="showInfoModal(item)">{{ item.message }}</a>\n                </template>\n            </sw-data-grid>\n            <sw-pagination\n                :total="totalLogEntries"\n                :limit="limit"\n                :page="page"\n                @page-change="onPageChange"\n            ></sw-pagination>\n        </template>\n    </sw-card>\n    <sw-modal\n        v-if="displayedLog"\n        variant="large"\n    >\n        <template #modal-header>\n            <div class="sw-modal__titles">\n                <h4 class="sw-modal__title">\n                    {{ displayedLog.channel }}\n                    -\n                    {{ displayedLog.level }}\n                </h4>\n                <h5 class="sw-modal__subtitle">\n                    {{ date(displayedLog.date, {hour: \'2-digit\', minute: \'2-digit\', second: \'2-digit\'}) }}\n                </h5>\n            </div>\n            <button\n                class="sw-modal__close"\n                :title="$t(\'global.sw-modal.labelClose\')"\n                :aria-label="$t(\'global.sw-modal.labelClose\')"\n                @click="closeInfoModal"\n            >\n                <sw-icon\n                    name="regular-times-s"\n                    small\n                    deprecated\n                />\n            </button>\n        </template>\n        <div v-html="displayedLog.message"></div>\n    </sw-modal>\n</sw-card-view>',inject:["froshToolsService"],mixins:[_.getByName("notification")],data(){return{logFiles:[],selectedLogFile:null,logEntries:[],totalLogEntries:0,limit:25,page:1,isLoading:!0,displayedLog:null}},created(){this.createdComponent()},computed:{columns(){return[{property:"date",label:"frosh-tools.date",rawData:!0},{property:"channel",label:"frosh-tools.channel",rawData:!0},{property:"level",label:"frosh-tools.level",rawData:!0},{property:"message",label:"frosh-tools.message",rawData:!0}]},date(){return Shopware.Filter.getByName("date")}},methods:{async refresh(){this.isLoading=!0,await this.createdComponent(),await this.onFileSelected()},async createdComponent(){this.logFiles=await this.froshToolsService.getLogFiles(),this.isLoading=!1},async onFileSelected(){if(!this.selectedLogFile)return;let e=await this.froshToolsService.getLogFile(this.selectedLogFile,(this.page-1)*this.limit,this.limit);this.logEntries=e.data,this.totalLogEntries=parseInt(e.headers["file-size"],10)},async onPageChange(e){this.page=e.page,this.limit=e.limit,await this.onFileSelected()},showInfoModal(e){this.displayedLog=e},closeInfoModal(){this.displayedLog=null}}}),n(151);let{Component:y,Mixin:x}=Shopware;y.register("frosh-tools-tab-state-machines",{template:'<sw-card-view>\n    <sw-card\n        class="frosh-tools-tab-state-machines__state-machines-card"\n        deprecated\n        :title="$t(\'frosh-tools.tabs.state-machines.title\')"\n        :isLoading="isLoading"\n        :large="true"\n        positionIdentifier="frosh-tools-tab-state-machines"\n    >\n        <div\n            class="frosh-tools-tab-state-machines__state-machines-card-image-wrapper"\n        >\n            <img\n                id="state_machine"\n                class="frosh-tools-tab-state-machines__state-machines-card-image"\n                type="image/svg+xml"\n                src="/bundles/administration/static/img/empty-states/media-empty-state.svg"\n                alt="State Machine"\n                width="100%"\n                height="auto"\n                style="text-align:center; display:inline-block; opacity:0;"\n            />\n        </div>\n        <template #toolbar>\n            <sw-entity-single-select\n                v-model="selectedStateMachine"\n                entity="state_machine"\n                :aside="true"\n                @update:value="onStateMachineChange"\n                :label="$t(\'frosh-tools.tabs.state-machines.label\')"\n                :placeholder="$t(\'frosh-tools.chooseStateMachine\')"\n                :helpText="$t(\'frosh-tools.tabs.state-machines.helpText\')"\n            />\n        </template>\n    </sw-card>\n</sw-card-view>',inject:["froshToolsService"],mixins:[x.getByName("notification")],data(){return{selectedStateMachine:null,image:null,isLoading:!0}},created(){this.createdComponent()},methods:{createdComponent(){this.isLoading=!1},async onStateMachineChange(e){if(!e)return;let t=await this.froshToolsService.stateMachines(e),n=document.getElementById("state_machine");"svg"in t?(this.image=t.svg,n.src=this.image,n.style.opacity="1",n.style.width="100%",n.style.height="auto"):n.style.opacity="0"}}});var S=n(134),k=n.n(S);let{Component:$,Mixin:C}=Shopware;$.register("frosh-tools-tab-files",{template:'<sw-card-view>\n    <sw-card\n        class="frosh-tools-tab-files__files-card"\n        :class="isLoadingClass"\n        :title="$t(\'frosh-tools.tabs.files.title\')"\n        :isLoading="isLoading"\n        :large="true"\n        positionIdentifier="frosh-tools-tab-files__files-card"\n        deprecated\n    >\n        <sw-alert\n            variant="error"\n            deprecated\n            v-if="items.error"\n        >{{ items.error }}</sw-alert>\n        <sw-alert\n            variant="success"\n            deprecated\n            v-if="items.ok"\n        >\n            {{ $t(\'frosh-tools.tabs.files.allFilesOk\') }}\n        </sw-alert>\n        <sw-alert\n            variant="warning"\n            v-else-if="items.files"\n            deprecated\n        >\n            {{ $t(\'frosh-tools.tabs.files.notOk\') }}\n        </sw-alert>\n        <template #toolbar>\n            \n            <sw-button\n                variant="ghost"\n                deprecated\n                @click="refresh"\n            >\n                <sw-icon\n                    :small="true"\n                    deprecated\n                    name="regular-undo"\n                ></sw-icon>\n            </sw-button>\n        </template>\n        <sw-data-grid\n            v-if="items.files && items.files.length"\n            :showSelection="false"\n            :dataSource="items.files"\n            :columns="columns"\n        >\n            <template #column-name="{ item }">\n                <a\n                    @click="diff(item)"\n                    :title="$t(\'frosh-tools.tabs.files.restore.diff\')"\n                >{{ item.name }}</a>\n            </template>\n\n            <template #column-expected="{ item }">\n                <span v-if="item.expected">\n                    {{ $t(\'frosh-tools.tabs.files.expectedProject\') }}\n                </span>\n                <span v-else>\n                    {{ $t(\'frosh-tools.tabs.files.expectedAll\') }}\n                </span>\n            </template>\n\n            <template #actions="{ item }">\n                <sw-context-menu-item @click="openUrl(item.shopwareUrl)">\n                    {{ $t(\'frosh-tools.tabs.files.openOriginal\') }}\n                </sw-context-menu-item>\n                <sw-context-menu-item @click="diff(item)">\n                    {{ $t(\'frosh-tools.tabs.files.restore.diff\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-data-grid>\n    </sw-card>\n    <sw-modal\n        v-if="showModal"\n        variant="large"\n        @modal-close="closeModal"\n        :title="diffData.file.name"\n    >\n        <span\n            style="white-space: pre"\n            v-html="diffData.html"\n        ></span>\n        <template #modal-footer>\n            <sw-button\n                variant="ghost-danger"\n                deprecated\n                @click="restoreFile(diffData.file.name)"\n                :disabled="diffData.file.expected"\n            >\n                <sw-icon\n                    name="regular-exclamation-triangle"\n                    deprecated\n                ></sw-icon>\n                {{ $t(\'frosh-tools.tabs.files.restore.restoreFile\') }}\n            </sw-button>\n        </template>\n    </sw-modal>\n    <sw-card\n        class="frosh-tools-tab-files__extension-files-card"\n        :class="isLoadingClass"\n        :title="$t(\'frosh-tools.tabs.extensionFiles.title\')"\n        :isLoading="isLoading"\n        :large="true"\n        positionIdentifier="frosh-tools-tab-files__extension-files-card"\n    >\n        <sw-alert\n            variant="success"\n            v-if="extensionItems.success"\n        >\n            {{ $t(\'frosh-tools.tabs.extensionFiles.allFilesOk\') }}\n        </sw-alert>\n        <sw-alert\n            variant="warning"\n            v-else\n        >\n            {{ $t(\'frosh-tools.tabs.extensionFiles.notOk\') }}\n        </sw-alert>\n        <template #toolbar>\n            \n            <sw-button\n                variant="ghost"\n                @click="refresh"\n            >\n                <sw-icon\n                    :small="true"\n                    name="regular-undo"\n                ></sw-icon>\n            </sw-button>\n        </template>\n        <div\n            v-for="(extensionResult, extensionName) in extensionItems.extensionResults"\n        >\n            <h4>{{ extensionName }}</h4>\n            <sw-alert\n                variant="warning"\n                v-if="extensionResult.wrongExtensionVersion"\n            >\n                {{ $t(\'frosh-tools.tabs.extensionFiles.wrongExtensionVersion\') }}\n            </sw-alert>\n            <sw-alert\n                variant="error"\n                v-if="extensionResult.checkFailed"\n            >\n                {{ $t(\'frosh-tools.tabs.extensionFiles.checkFailed\') }}\n            </sw-alert>\n            <sw-description-list v-else>\n                <dt v-if="extensionResult.newFiles.length > 0">\n                    {{ $t(\'frosh-tools.tabs.extensionFiles.newFiles\') }}\n                </dt>\n                <dd v-for="file in extensionResult.newFiles">\n                    {{ file }}\n                </dd>\n                <dt v-if="extensionResult.changedFiles.length > 0">\n                    {{ $t(\'frosh-tools.tabs.extensionFiles.changedFiles\') }}\n                </dt>\n                <dd v-for="file in extensionResult.changedFiles">\n                    {{ file }}\n                </dd>\n                <dt v-if="extensionResult.missingFiles.length > 0">\n                    {{ $t(\'frosh-tools.tabs.extensionFiles.missingFiles\') }}\n                </dt>\n                <dd v-for="file in extensionResult.missingFiles">\n                    {{ file }}\n                </dd>\n            </sw-description-list>\n        </div>\n    </sw-card>\n</sw-card-view>',inject:["repositoryFactory","froshToolsService"],mixins:[C.getByName("notification")],data(){return{items:{},extensionItems:{},isLoading:!0,diffData:{html:"",file:""},showModal:!1}},created(){this.createdComponent()},computed:{columns(){return[{property:"name",label:"frosh-tools.name",rawData:!0,primary:!0},{property:"expected",label:"frosh-tools.status",rawData:!0,primary:!0}]},isLoadingClass(){return{"is-loading":this.isLoading}}},methods:{async refresh(){this.isLoading=!0,await this.createdComponent()},async createdComponent(){this.items=(await this.froshToolsService.getShopwareFiles()).data,this.extensionItems=(await this.froshToolsService.getExtensionFiles()).data,this.isLoading=!1},openUrl(e){window.open(e,"_blank")},async diff(e){this.isLoading=!0;let t=(await this.froshToolsService.getFileContents(e.name)).data,n=new(k()),s=n.diff_main(t.originalContent,t.content);n.diff_cleanupSemantic(s),this.diffData.html=n.diff_prettyHtml(s).replace(RegExp("background:#e6ffe6;","g"),"background:#ABF2BC;").replace(RegExp("background:#ffe6e6;","g"),"background:rgba(255,129,130,0.4);"),this.diffData.file=e,this.openModal(),this.isLoading=!1},async restoreFile(e){this.closeModal(),this.isLoading=!0;let t=await this.froshToolsService.restoreShopwareFile(e);t.data.status?this.createNotificationSuccess({message:t.data.status}):this.createNotificationError({message:t.data.error}),await this.refresh()},openModal(){this.showModal=!0},closeModal(){this.showModal=!1}}}),n(858);let{Component:M}=Shopware;M.register("frosh-tools-index",{template:"<sw-page class=\"frosh-tools\">\n    <template #content>\n        <sw-tabs\n            :small=\"false\"\n            positionIdentifier=\"frosh-tools-tabs\"\n        >\n            <sw-tabs-item :route=\"{ name: 'frosh.tools.index.index' }\">\n                {{ $t('frosh-tools.tabs.index.title') }}\n            </sw-tabs-item>\n            <sw-tabs-item :route=\"{ name: 'frosh.tools.index.cache' }\">\n                {{ $t('frosh-tools.tabs.cache.title') }}\n            </sw-tabs-item>\n            <sw-tabs-item :route=\"{ name: 'frosh.tools.index.scheduled' }\">\n                {{ $t('frosh-tools.tabs.scheduledTaskOverview.title') }}\n            </sw-tabs-item>\n            <sw-tabs-item :route=\"{ name: 'frosh.tools.index.queue' }\">\n                {{ $t('frosh-tools.tabs.queue.title') }}\n            </sw-tabs-item>\n            <sw-tabs-item :route=\"{ name: 'frosh.tools.index.logs' }\">\n                {{ $t('frosh-tools.tabs.logs.title') }}\n            </sw-tabs-item>\n            <sw-tabs-item\n                :route=\"{ name: 'frosh.tools.index.elasticsearch' }\"\n                v-if=\"elasticsearchAvailable\"\n            >\n                {{ $t('frosh-tools.tabs.elasticsearch.title') }}\n            </sw-tabs-item>\n            <sw-tabs-item :route=\"{ name: 'frosh.tools.index.files' }\">\n                {{ $t('frosh-tools.tabs.files.title') }}\n            </sw-tabs-item>\n            <sw-tabs-item :route=\"{ name: 'frosh.tools.index.statemachines' }\">\n                {{ $t('frosh-tools.tabs.state-machines.title') }}\n            </sw-tabs-item>\n        </sw-tabs>\n        <router-view></router-view>\n    </template>\n</sw-page>",computed:{elasticsearchAvailable(){try{return Shopware.Store.get("context").app.config.settings?.elasticsearchEnabled||!1}catch{return Shopware.State.get("context").app.config.settings?.elasticsearchEnabled||!1}}}}),n(849),Shopware.Module.register("frosh-tools",{type:"plugin",name:"frosh-tools.title",title:"frosh-tools.title",description:"",color:"#303A4F",icon:"regular-cog",routes:{index:{component:"frosh-tools-index",path:"index",children:{index:{component:"frosh-tools-tab-index",path:"index",meta:{privilege:"frosh_tools:read",parentPath:"sw.settings.index.plugins"}},cache:{component:"frosh-tools-tab-cache",path:"cache",meta:{privilege:"frosh_tools:read",parentPath:"sw.settings.index.plugins"}},queue:{component:"frosh-tools-tab-queue",path:"queue",meta:{privilege:"frosh_tools:read",parentPath:"sw.settings.index.plugins"}},scheduled:{component:"frosh-tools-tab-scheduled",path:"scheduled",meta:{privilege:"frosh_tools:read",parentPath:"sw.settings.index.plugins"}},elasticsearch:{component:"frosh-tools-tab-elasticsearch",path:"elasticsearch",meta:{privilege:"frosh_tools:read",parentPath:"sw.settings.index.plugins"}},logs:{component:"frosh-tools-tab-logs",path:"logs",meta:{privilege:"frosh_tools:read",parentPath:"sw.settings.index.plugins"}},files:{component:"frosh-tools-tab-files",path:"files",meta:{privilege:"frosh_tools:read",parentPath:"sw.settings.index.plugins"}},statemachines:{component:"frosh-tools-tab-state-machines",path:"state-machines",meta:{privilege:"frosh_tools:read",parentPath:"sw.settings.index.plugins"}}}}},settingsItem:[{group:"plugins",to:"frosh.tools.index.cache",icon:"regular-cog",name:"frosh-tools",label:"frosh-tools.title",privilege:"frosh_tools:read"}]})}()})();