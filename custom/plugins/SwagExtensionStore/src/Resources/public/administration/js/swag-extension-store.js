(function(){var e,t,n,i,r,s,o,a,c={7612:function(e,t,n){Shopware.Component.override("sw-dashboard-index",()=>n.e(298).then(n.bind(n,6298))),Shopware.Component.register("sw-dashboard-statistics-promotion-card",()=>n.e(495).then(n.bind(n,4495)))},479:function(e,t,n){Shopware.Component.override("sw-extension-card-base",()=>n.e(16).then(n.bind(n,6016)))}},p={};function d(e){var t=p[e];if(void 0!==t)return t.exports;var n=p[e]={id:e,exports:{}};return c[e](n,n.exports,d),n.exports}d.m=c,d.d=function(e,t){for(var n in t)d.o(t,n)&&!d.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},d.f={},d.e=function(e){return Promise.all(Object.keys(d.f).reduce(function(t,n){return d.f[n](e,t),t},[]))},d.u=function(e){return"static/js/"+({16:"61d8b06bcf19a58b1512",116:"cf003715c2a96a082e63",159:"cca3ea5d60fb33a003bf",210:"97510f6038cf704c9d24",215:"2c9ce91e99512f376406",298:"1b9ec996918372c0a097",316:"95c86d5c53b57b7a78bc",340:"50e04797baf90c593674",343:"17e88bbc92b70017394b",405:"7b0ab5e7ff0b198b3db7",413:"8dc5160e9978923c0bd5",444:"4d6eeac5311a104e32c7",495:"649ce4690f469f3f170d",509:"f616089a1e98aeca2adb",520:"4cbde61535cd5ca669cd",557:"18fc00f88266fe457ab1",577:"f9de5ffa2dd0b2754546",627:"e6a61d7a5270b7a08f26",645:"b4f0af6bf263ae34947d",698:"0eca9b0e6be8ce9d09f0",756:"9bf03e6cd2ded9c5814d",808:"440a4c135d743ee82980",868:"432fb039230a2f1c8a8c",930:"e731da6732ff1b5ccfdb"})[e]+".js"},d.miniCssF=function(e){return"static/css/"+e+".css"},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="administration:",d.l=function(n,i,r,s){if(e[n]){e[n].push(i);return}if(void 0!==r)for(var o,a,c=document.getElementsByTagName("script"),p=0;p<c.length;p++){var h=c[p];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+r){o=h;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,d.nc&&o.setAttribute("nonce",d.nc),o.setAttribute("data-webpack",t+r),o.src=n),e[n]=[i];var l=function(t,i){o.onerror=o.onload=null,clearTimeout(u);var r=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(function(e){return e(i)}),t)return t(i)},u=setTimeout(l.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=l.bind(null,o.onerror),o.onload=l.bind(null,o.onload),a&&document.head.appendChild(o)},d.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.p="bundles/swagextensionstore/",n=function(e,t,n,i){var r=document.createElement("link");return r.rel="stylesheet",r.type="text/css",r.onerror=r.onload=function(s){if(r.onerror=r.onload=null,"load"===s.type)n();else{var o=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.href||t,c=Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=a,r.parentNode.removeChild(r),i(c)}},r.href=t,document.head.appendChild(r),r},i=function(e,t){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=n[i],s=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(s===e||s===t))return r}for(var o=document.getElementsByTagName("style"),i=0;i<o.length;i++){var r=o[i],s=r.getAttribute("data-href");if(s===e||s===t)return r}},r={984:0},d.f.miniCss=function(e,t){r[e]?t.push(r[e]):0!==r[e]&&({16:1,116:1,159:1,210:1,215:1,298:1,316:1,340:1,343:1,405:1,413:1,444:1,495:1,509:1,520:1,557:1,577:1,627:1,645:1,698:1,756:1,808:1,930:1})[e]&&t.push(r[e]=new Promise(function(t,r){var s=d.miniCssF(e),o=d.p+s;if(i(s,o))return t();n(e,o,t,r)}).then(function(){r[e]=0},function(t){throw delete r[e],t}))},s={984:0},d.f.j=function(e,t){var n=d.o(s,e)?s[e]:void 0;if(0!==n){if(n)t.push(n[2]);else{var i=new Promise(function(t,i){n=s[e]=[t,i]});t.push(n[2]=i);var r=d.p+d.u(e),o=Error();d.l(r,function(t){if(d.o(s,e)&&(0!==(n=s[e])&&(s[e]=void 0),n)){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;o.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",o.name="ChunkLoadError",o.type=i,o.request=r,n[1](o)}},"chunk-"+e,e)}}},o=function(e,t){var n,i,r=t[0],o=t[1],a=t[2],c=0;if(r.some(function(e){return 0!==s[e]})){for(n in o)d.o(o,n)&&(d.m[n]=o[n]);a&&a(d)}for(e&&e(t);c<r.length;c++)i=r[c],d.o(s,i)&&s[i]&&s[i][0](),s[i]=0},(a=window["webpackJsonpPluginswag-extension-store"]=window["webpackJsonpPluginswag-extension-store"]||[]).forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a)),window?.__sw__?.assetPath&&(d.p=window.__sw__.assetPath+"/bundles/swagextensionstore/"),function(){"use strict";d(479);let{Utils:e}=Shopware;class t{EXTENSION_RENT_DURATIONS={MONTHLY:1,YEARLY:12};discountCampaignService;extensionService;constructor(e,t){this.discountCampaignService=e,this.extensionService=t}orderVariantsByPricePerMonth(e){return e.toSorted((e,t)=>this.getPriceFromVariant(e,!0)-this.getPriceFromVariant(t,!0))}orderVariantsByRentDuration(e){return 1===e.length?e:e.toSorted((e,t)=>e.duration&&t.duration?e.duration-t.duration:0)}getCalculatedPrice(t){let n=this.isVariantOfTypeRent(t),i=this.getPriceFromVariant(t,n);return e.format.currency(i,"EUR",2)}getCalculatedPriceSnippet(e){if(e.length>1)return"sw-extension-store.general.labelFromPricePerMonth";let t=this.getRecommendedVariant(e);return this.getPriceSnippetForVariant(t)}getPriceSnippetForVariant(e){return this.isVariantOfTypeBuy(e)?"sw-extension-store.general.labelPriceOneTime":"sw-extension-store.general.labelPricePerMonth"}getPriceFromVariant(e,t=!1){if(this.isVariantDiscounted(e))return t?e?.discountCampaign.discountedPricePerMonth:e?.discountCampaign.discountedPrice;let n=0;return t&&e?.netPricePerMonth?n=e.netPricePerMonth:e?.netPrice&&(n=e.netPrice),n}getRecommendedVariant(e){return 1===e.length?e[0]:this.orderVariantsByPricePerMonth(e)[0]}isExtensionDiscounted(e){return e.some(e=>this.isVariantDiscounted(e))}isVariantDiscounted(e){return!!e&&!!e.discountCampaign&&"number"==typeof e.discountCampaign.discountedPrice&&e.discountCampaign.discountedPrice!==e.netPrice&&this.discountCampaignService.isDiscountCampaignActive(e.discountCampaign)}isVariantOfTypeBuy(e){return e?.type===this.extensionService.EXTENSION_VARIANT_TYPES.BUY}isVariantOfTypeFree(e){return e?.type===this.extensionService.EXTENSION_VARIANT_TYPES.FREE}isVariantOfTypeRent(e){return e?.type===this.extensionService.EXTENSION_VARIANT_TYPES.RENT}isRentDurationMonthly(e){return e?.duration===this.EXTENSION_RENT_DURATIONS.MONTHLY}isRentDurationYearly(e){return e?.duration===this.EXTENSION_RENT_DURATIONS.YEARLY}}let{Criteria:n}=Shopware.Data;class i extends Shopware.Classes.ApiService{constructor(e,t,n="extension-store"){super(e,t,n),this.name="extensionStoreDataService"}async listingFilters(e){return(await this.httpClient.get(`_action/${this.apiEndpoint}/store-filters`,{headers:this.basicHeaders(e),version:3})).data}async getExtensionList(e,t){let n=this._getCriteriaFromSearch(e),{data:i}=await this.httpClient.post(`_action/${this.apiEndpoint}/list`,n.parse(),{headers:this.basicHeaders(t),version:3}),r=[];return r.total=i.meta.total,r.push(...i.data),r}async getExtensionByName(e,t){return this.getExtensionList({term:e},t).then(t=>t.find(t=>t.name===e)??null)}async getDetail(e,t){let{data:n}=await this.httpClient.get(`_action/${this.apiEndpoint}/detail/${e}`,{headers:this.basicHeaders(t),version:3});return n}async getReviews(e,t,i){let r=new n(e,t),{data:s}=await this.httpClient.get(`_action/${this.apiEndpoint}/${i}/reviews`,{headers:this.basicHeaders(),params:r.parse(),version:3});return s}basicHeaders(e=null){let t={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${this.loginService.getToken()}`};return e&&e.languageId&&(t["sw-language-id"]=e.languageId),t}_getCriteriaFromSearch({page:e=1,limit:t=25,rating:i=null,category:r=null,term:s=null,sorting:o=null,filter:a={}}={}){let c=new n(e,t);s&&c.setTerm(s);let p=[];return null!==i&&p.push(n.equals("rating",i)),Object.entries(a).forEach(([e,t])=>{p.push(n.equals(e,t))}),null!==r&&p.push(n.equals("category",r)),p.length>0&&c.addFilter(n.multi("AND",p)),o&&(c.resetSorting(),c.addSorting(o)),c}}class r extends Shopware.Classes.ApiService{constructor(e,t,n="extension-store"){super(e,t,n),this.name="extensionStoreLicensesService"}newCart(e,t){return this.httpClient.post(`/_action/${this.apiEndpoint}/cart/new`,{extensionId:e,variantId:t},{headers:this.basicHeaders(),version:3})}orderCart(e){return this.httpClient.post(`/_action/${this.apiEndpoint}/cart/order`,e,{headers:this.basicHeaders(),version:3})}getPaymentMeans(){return this.httpClient.get(`/_action/${this.apiEndpoint}/cart/payment-means`,{headers:this.basicHeaders(),version:3})}basicHeaders(e=null){let t={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${this.loginService.getToken()}`};return e&&e.languageId&&(t["sw-language-id"]=e.languageId),t}}Shopware.Component.register("sw-extension-store-index",()=>d.e(405).then(d.bind(d,4405))),Shopware.Component.register("sw-extension-store-listing",()=>d.e(413).then(d.bind(d,1413))),Shopware.Component.register("sw-extension-store-detail",()=>d.e(340).then(d.bind(d,5340))),Shopware.Component.register("sw-extension-store-slider",()=>d.e(116).then(d.bind(d,7116))),Shopware.Component.register("sw-extension-store-listing-filter",()=>d.e(520).then(d.bind(d,520))),Shopware.Component.register("sw-extension-buy-modal",()=>d.e(215).then(d.bind(d,8215))),Shopware.Component.register("sw-extension-listing-card",()=>d.e(444).then(d.bind(d,5444))),Shopware.Component.register("sw-extension-store-update-warning",()=>d.e(316).then(d.bind(d,8316))),Shopware.Component.register("sw-extension-label",()=>d.e(557).then(d.bind(d,5557))),Shopware.Component.register("sw-extension-type-label",()=>d.e(868).then(d.bind(d,2868))),Shopware.Component.register("sw-extension-store-label-display",()=>d.e(159).then(d.bind(d,6159))),Shopware.Component.register("sw-extension-store-error-card",()=>d.e(343).then(d.bind(d,8343))),Shopware.Component.register("sw-extension-store-accessibility",()=>d.e(577).then(d.bind(d,2577))),Shopware.Component.register("sw-extension-store-statistics-promotion",()=>d.e(627).then(d.bind(d,1627))),Shopware.Component.register("sw-extension-store-in-app-purchases-listing-modal",()=>d.e(756).then(d.bind(d,9756))),Shopware.Application.addServiceProvider("extensionStoreService",()=>new t(Shopware.Service("shopwareDiscountCampaignService"),Shopware.Service("shopwareExtensionService"))),Shopware.Application.addServiceProvider("extensionStoreDataService",()=>new i(Shopware.Application.getContainer("init").httpClient,Shopware.Service("loginService"))),Shopware.Application.addServiceProvider("extensionStoreLicensesService",()=>new r(Shopware.Application.getContainer("init").httpClient,Shopware.Service("loginService"))),Shopware.Module.register("sw-extension-store",{title:"sw-extension-store.general.title",name:"sw-extension-store.general.title",routePrefixName:"sw.extension",routePrefixPath:"sw/extension",routes:{store:{path:"store",redirect:{name:"sw.extension.store.listing"},meta:{privilege:"system.extension_store"},component:"sw-extension-store-index",children:{listing:{path:"listing",component:"sw-extension-store-listing",redirect:{name:"sw.extension.store.listing.app"},meta:{privilege:"system.extension_store"},children:{app:{path:"app",component:"sw-extension-store-listing",propsData:{isTheme:!1},meta:{privilege:"system.extension_store"}},theme:{path:"theme",component:"sw-extension-store-listing",propsData:{isTheme:!0},meta:{privilege:"system.extension_store"}}}}}},"store.detail":{component:"sw-extension-store-detail",path:"store/detail/:id",meta:{parentPath:"sw.extension.store",privilege:"system.extension_store"},props:{default:e=>({id:e.params.id})}}},routeMiddleware(e,t){"sw.extension.store.landing-page"===t.name&&(t.redirect={name:"sw.extension.store.listing"}),e(t)}}),d(7612);let{ApiService:s}=Shopware.Classes;class o extends s{constructor(e,t,n="in-app-purchases"){super(e,t,n),this.name="inAppPurchasesService"}async getExtension(e){return this.httpClient.get(`_action/${this.apiEndpoint}/${e}/details`,{headers:this.getBasicHeaders()}).then(s.handleResponse.bind(this))}async createCart(e,t,n){return this.httpClient.post(`_action/${this.apiEndpoint}/cart/new`,{name:e,feature:t,variant:n},{headers:this.getBasicHeaders()}).then(s.handleResponse.bind(this))}async orderCart(e,t,n){return this.httpClient.post(`_action/${this.apiEndpoint}/cart/order`,{taxRate:e,positions:t,name:n},{headers:this.getBasicHeaders()}).then(s.handleResponse.bind(this))}async getAvailablePurchases(e){return this.httpClient.get(`_action/${this.apiEndpoint}/${e}/list`,{headers:this.getBasicHeaders()}).then(s.handleResponse.bind(this))}async getPriceModels(e,t){return this.httpClient.get(`_action/${this.apiEndpoint}/${e}/${t}`,{headers:this.getBasicHeaders()}).then(s.handleResponse.bind(this))}async refreshInAppPurchases(){return this.httpClient.get(`_action/${this.apiEndpoint}/refresh`,{headers:this.getBasicHeaders()}).then(s.handleResponse.bind(this))}}Shopware.Component.override("sw-in-app-purchase-checkout",()=>d.e(645).then(d.bind(d,1645))),Shopware.Component.register("sw-in-app-purchase-checkout-button",()=>d.e(698).then(d.bind(d,5698))),Shopware.Component.register("sw-in-app-purchase-checkout-overview",()=>d.e(210).then(d.bind(d,3210))),Shopware.Component.register("sw-in-app-purchase-checkout-state",()=>d.e(930).then(d.bind(d,7930))),Shopware.Component.register("sw-in-app-purchase-checkout-subscription-change",()=>d.e(509).then(d.bind(d,509))),Shopware.Component.register("sw-in-app-purchase-price-box",()=>d.e(808).then(d.bind(d,3808))),Shopware.Application.addServiceProvider("inAppPurchasesService",()=>new o(Shopware.Application.getContainer("init").httpClient,Shopware.Service("loginService")))}()})();