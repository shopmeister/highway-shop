{# ThemeWare® 'Awards' widget #}
{#
    Create 'Awards' widget and content

    @Storefront/storefront/themeware/widgets/twt-awards-include.html.twig
#}

{# @TODO: Blöcke prüfen... #}
{# @TODO: Postion (Footer, Sidebar etc.) übermitteln #}

{# ---------------- START: SET TEMPLATE VARS ---------------- #}

{# ThemeWare: Set theme variables #}
{% set twtWidgetAwardsCustomImage1 = theme_config('twt-widget-awards-custom-image-1') %}
{% set twtWidgetAwardsCustomImage1Link = theme_config('twt-widget-awards-custom-image-1-link') %}
{% set twtWidgetAwardsCustomImage1LinkNofollow = theme_config('twt-widget-awards-custom-image-1-link-nofollow') %}
{% set twtWidgetAwardsCustomImage1Url = theme_config('twt-widget-awards-custom-image-1-url') %}

{% set twtWidgetAwardsCustomImage2 = theme_config('twt-widget-awards-custom-image-2') %}
{% set twtWidgetAwardsCustomImage2Link = theme_config('twt-widget-awards-custom-image-2-link') %}
{% set twtWidgetAwardsCustomImage2LinkNofollow = theme_config('twt-widget-awards-custom-image-2-link-nofollow') %}
{% set twtWidgetAwardsCustomImage2Url = theme_config('twt-widget-awards-custom-image-2-url') %}

{% set twtWidgetAwardsCustomImage3 = theme_config('twt-widget-awards-custom-image-3') %}
{% set twtWidgetAwardsCustomImage3Link = theme_config('twt-widget-awards-custom-image-3-link') %}
{% set twtWidgetAwardsCustomImage3LinkNofollow = theme_config('twt-widget-awards-custom-image-3-link-nofollow') %}
{% set twtWidgetAwardsCustomImage3Url = theme_config('twt-widget-awards-custom-image-3-url') %}

{% set twtWidgetAwardsCustomImage4 = theme_config('twt-widget-awards-custom-image-4') %}
{% set twtWidgetAwardsCustomImage4Link = theme_config('twt-widget-awards-custom-image-4-link') %}
{% set twtWidgetAwardsCustomImage4LinkNofollow = theme_config('twt-widget-awards-custom-image-4-link-nofollow') %}
{% set twtWidgetAwardsCustomImage4Url = theme_config('twt-widget-awards-custom-image-4-url') %}

{% set twtWidgetAwardsCustomImage5 = theme_config('twt-widget-awards-custom-image-5') %}
{% set twtWidgetAwardsCustomImage5Link = theme_config('twt-widget-awards-custom-image-5-link') %}
{% set twtWidgetAwardsCustomImage5LinkNofollow = theme_config('twt-widget-awards-custom-image-5-link-nofollow') %}
{% set twtWidgetAwardsCustomImage5Url = theme_config('twt-widget-awards-custom-image-5-url') %}

{% set twtWidgetAwardsCustomImage6 = theme_config('twt-widget-awards-custom-image-6') %}
{% set twtWidgetAwardsCustomImage6Link = theme_config('twt-widget-awards-custom-image-6-link') %}
{% set twtWidgetAwardsCustomImage6LinkNofollow = theme_config('twt-widget-awards-custom-image-6-link-nofollow') %}
{% set twtWidgetAwardsCustomImage6Url = theme_config('twt-widget-awards-custom-image-6-url') %}

{% set twtWidgetAwardsStandardSsl = theme_config('twt-widget-awards-standard-ssl') %}
{% set twtWidgetAwardsTextShow = theme_config('twt-widget-awards-text-show') %}

{% set twtWidgetAwardsImageMaxWidth = theme_config('twt-widget-awards-image-max-width') %}
{% set twtWidgetAwardsImageMaxHeight = theme_config('twt-widget-awards-image-max-height') %}

{% if twtWidgetAwardsImageMaxWidth != 'none' and twtWidgetAwardsImageMaxHeight == 'none' %}
    {% set twtWidgetAwardsImageWidth = twtWidgetAwardsImageMaxWidth ~ 'px' %}
    {% set twtWidgetAwardsImageHeight = 'auto' %}
{% elseif twtWidgetAwardsImageMaxWidth == 'none' and twtWidgetAwardsImageMaxHeight != 'none' %}
    {% set twtWidgetAwardsImageWidth = 'auto' %}
    {% set twtWidgetAwardsImageHeight = twtWidgetAwardsImageMaxHeight ~ 'px' %}
{% else %} {# Fallback #}
    {% set twtWidgetAwardsImageWidth = '100px' %}
    {% set twtWidgetAwardsImageHeight = 'auto' %}
{% endif %}

{# Overwrite URL configuration with snippet, if configured #}
{% if twtWidgetAwardsCustomImage1Link == 3 %}
    {% set twtWidgetAwardsCustomImage1Url = 'twt.widget.awards.customImage1.url'|trans %}
{% endif %}
{% if twtWidgetAwardsCustomImage2Link == 3 %}
    {% set twtWidgetAwardsCustomImage2Url = 'twt.widget.awards.customImage2.url'|trans %}
{% endif %}
{% if twtWidgetAwardsCustomImage3Link == 3 %}
    {% set twtWidgetAwardsCustomImage3Url = 'twt.widget.awards.customImage3.url'|trans %}
{% endif %}
{% if twtWidgetAwardsCustomImage4Link == 3 %}
    {% set twtWidgetAwardsCustomImage4Url = 'twt.widget.awards.customImage4.url'|trans %}
{% endif %}
{% if twtWidgetAwardsCustomImage5Link == 3 %}
    {% set twtWidgetAwardsCustomImage5Url = 'twt.widget.awards.customImage5.url'|trans %}
{% endif %}
{% if twtWidgetAwardsCustomImage6Link == 3 %}
    {% set twtWidgetAwardsCustomImage6Url = 'twt.widget.awards.customImage6.url'|trans %}
{% endif %}

{# Set titles of the custom images #}
{% set twtWidgetAwardsCustomImage1Title = 'twt.widget.awards.customImage1.title'|trans %}
{% set twtWidgetAwardsCustomImage2Title = 'twt.widget.awards.customImage2.title'|trans %}
{% set twtWidgetAwardsCustomImage3Title = 'twt.widget.awards.customImage3.title'|trans %}
{% set twtWidgetAwardsCustomImage4Title = 'twt.widget.awards.customImage4.title'|trans %}
{% set twtWidgetAwardsCustomImage5Title = 'twt.widget.awards.customImage5.title'|trans %}
{% set twtWidgetAwardsCustomImage6Title = 'twt.widget.awards.customImage6.title'|trans %}

{# Fallback: Use old snippets if the new snippets are not changed #}
{# @deprecated - old snippets will be removed #}
{% set twtWidgetAwardsCustomImagesTitle1 = 'twt.widget.awards.customImages.title1'|trans %}
{% set twtWidgetAwardsCustomImagesTitle2 = 'twt.widget.awards.customImages.title2'|trans %}
{% set twtWidgetAwardsCustomImagesTitle3 = 'twt.widget.awards.customImages.title3'|trans %}
{% set twtWidgetAwardsCustomImagesTitle4 = 'twt.widget.awards.customImages.title4'|trans %}
{% set twtWidgetAwardsCustomImagesTitle5 = 'twt.widget.awards.customImages.title5'|trans %}
{% set twtWidgetAwardsCustomImagesTitle6 = 'twt.widget.awards.customImages.title6'|trans %}

{% if ('Custom image' in twtWidgetAwardsCustomImage1Title or 'Benutzerdefiniertes Bild' in twtWidgetAwardsCustomImage1Title) and '#deprecated' not in twtWidgetAwardsCustomImagesTitle1 %}
    {% set twtWidgetAwardsCustomImage1Title = twtWidgetAwardsCustomImagesTitle1 %}
{% endif %}
{% if ('Custom image' in twtWidgetAwardsCustomImage2Title or 'Benutzerdefiniertes Bild' in twtWidgetAwardsCustomImage2Title) and '#deprecated' not in twtWidgetAwardsCustomImagesTitle2 %}
    {% set twtWidgetAwardsCustomImage2Title = twtWidgetAwardsCustomImagesTitle2 %}
{% endif %}
{% if ('Custom image' in twtWidgetAwardsCustomImage3Title or 'Benutzerdefiniertes Bild' in twtWidgetAwardsCustomImage3Title) and '#deprecated' not in twtWidgetAwardsCustomImagesTitle3 %}
    {% set twtWidgetAwardsCustomImage3Title = twtWidgetAwardsCustomImagesTitle3 %}
{% endif %}
{% if ('Custom image' in twtWidgetAwardsCustomImage4Title or 'Benutzerdefiniertes Bild' in twtWidgetAwardsCustomImage4Title) and '#deprecated' not in twtWidgetAwardsCustomImagesTitle4 %}
    {% set twtWidgetAwardsCustomImage4Title = twtWidgetAwardsCustomImagesTitle4 %}
{% endif %}
{% if ('Custom image' in twtWidgetAwardsCustomImage5Title or 'Benutzerdefiniertes Bild' in twtWidgetAwardsCustomImage5Title) and '#deprecated' not in twtWidgetAwardsCustomImagesTitle5 %}
    {% set twtWidgetAwardsCustomImage5Title = twtWidgetAwardsCustomImagesTitle5 %}
{% endif %}
{% if ('Custom image' in twtWidgetAwardsCustomImage6Title or 'Benutzerdefiniertes Bild' in twtWidgetAwardsCustomImage6Title) and '#deprecated' not in twtWidgetAwardsCustomImagesTitle6 %}
    {% set twtWidgetAwardsCustomImage6Title = twtWidgetAwardsCustomImagesTitle6 %}
{% endif %}

{# ---------------- END: SET TEMPLATE VARS ---------------- #}

{# ThemeWare: Awards content #}
{% block twt_widget_awards %}
    <div class="twt-widget-awards twt-awards is-{{ type }}">

        {% block twt_widget_awards_content %}
            {% if twtWidgetAwardsTextShow == 2 %}
                <p>{{ 'twt.widget.awards.content'|trans|sw_sanitize }}</p>
            {% endif %}

            <div class="twt-awards-container">
                {# ThemeWare: SSL seal #}
                {% if twtWidgetAwardsStandardSsl == 2 %}
                    {% set isoCode = page.header.activeLanguage.translationCode.code|lower|split('-') %}

                    <span class="twt-awards-custom-image-container">
                        {% if isoCode[0] == 'de' or isoCode[1] == 'de' %}
                            {# @TODO tag:v6.7.0 - Check if title is needed #}
                            <img src="{{ asset('assets/awards/twt-ssl-siegel.png', 'theme') }}"
                                 alt="Pay safely"
                                 title="SSL secure"
                                 class="twt-awards-ssl-secure-image"
                                 width="200px"
                                 height="200px"
                                 loading="lazy"
                            >

                        {% else %}
                            {# @TODO tag:v6.7.0 - Check if title is needed #}
                            <img src="{{ asset('assets/awards/twt-ssl-seal.png', 'theme') }}"
                                 alt="Sicher bezahlen"
                                 title="SSL secure"
                                 class="twt-awards-ssl-secure-image"
                                 width="200px"
                                 height="200px"
                                 loading="lazy"
                            >

                        {% endif %}
                    </span>
                {% endif %}

                {# ThemeWare: Custom image 1 #}
                {% if twtWidgetAwardsCustomImage1 %}
                    {% if twtWidgetAwardsCustomImage1Url and twtWidgetAwardsCustomImage1Link != 1 %}
                        <a href="{{ twtWidgetAwardsCustomImage1Url }}"
                           class="twt-awards-custom-image-link"
                           title="{{ twtWidgetAwardsCustomImage1Title }}"
                           target="_blank"
                           {# @TODO tag:v6.7.0 - Check if aria-label is needed #}
                           rel="noopener{% if twtWidgetAwardsCustomImage1LinkNofollow == 2 %} nofollow{% endif %}"
                        >

                    {% else %}
                        <span class="twt-awards-custom-image-container">

                    {% endif %}

                    {# @TODO tag:v6.7.0 - Check if title is needed #}
                    <img src="{{ twtWidgetAwardsCustomImage1|sw_encode_url }}"
                         alt="{{ twtWidgetAwardsCustomImage1Title }}"
                         title="{{ twtWidgetAwardsCustomImage1Title }}"
                         class="twt-awards-custom-image"
                         width="{{ twtWidgetAwardsImageWidth }}"
                         height="{{ twtWidgetAwardsImageHeight }}"
                         loading="lazy"
                    >

                    {% if twtWidgetAwardsCustomImage1Url %}
                        </a>

                    {% else %}
                        </span>

                    {% endif %}
                {% endif %}

                {# ThemeWare: Custom image 2 #}
                {% if twtWidgetAwardsCustomImage2 %}
                    {% if twtWidgetAwardsCustomImage2Url and twtWidgetAwardsCustomImage2Link != 1 %}
                        <a href="{{ twtWidgetAwardsCustomImage2Url }}"
                           class="twt-awards-custom-image-link"
                           title="{{ twtWidgetAwardsCustomImage2Title }}"
                           target="_blank"
                           {# @TODO tag:v6.7.0 - Check if aria-label is needed #}
                           rel="noopener{% if twtWidgetAwardsCustomImage2LinkNofollow == 2 %} nofollow{% endif %}"
                        >

                    {% else %}
                        <span class="twt-awards-custom-image-container">

                    {% endif %}

                    {# @TODO tag:v6.7.0 - Check if title is needed #}
                    <img src="{{ twtWidgetAwardsCustomImage2|sw_encode_url }}"
                         alt="{{ twtWidgetAwardsCustomImage2Title }}"
                         title="{{ twtWidgetAwardsCustomImage2Title }}"
                         class="twt-awards-custom-image"
                         width="{{ twtWidgetAwardsImageWidth }}"
                         height="{{ twtWidgetAwardsImageHeight }}"
                         loading="lazy"
                    >

                    {% if twtWidgetAwardsCustomImage2Url %}
                        </a>

                    {% else %}
                        </span>

                    {% endif %}
                {% endif %}

                {# ThemeWare: Custom image 3 #}
                {% if twtWidgetAwardsCustomImage3 %}
                    {% if twtWidgetAwardsCustomImage3Url and twtWidgetAwardsCustomImage3Link != 1 %}
                        <a href="{{ twtWidgetAwardsCustomImage3Url }}"
                           class="twt-awards-custom-image-link"
                           title="{{ twtWidgetAwardsCustomImage3Title }}"
                           target="_blank"
                           {# @TODO tag:v6.7.0 - Check if aria-label is needed #}
                           rel="noopener{% if twtWidgetAwardsCustomImage3LinkNofollow == 2 %} nofollow{% endif %}"
                        >

                    {% else %}
                        <span class="twt-awards-custom-image-container">

                    {% endif %}

                    {# @TODO tag:v6.7.0 - Check if title is needed #}
                    <img src="{{ twtWidgetAwardsCustomImage3|sw_encode_url }}"
                         alt="{{ twtWidgetAwardsCustomImage3Title }}"
                         title="{{ twtWidgetAwardsCustomImage3Title }}"
                         class="twt-awards-custom-image"
                         width="{{ twtWidgetAwardsImageWidth }}"
                         height="{{ twtWidgetAwardsImageHeight }}"
                         loading="lazy"
                    >

                    {% if twtWidgetAwardsCustomImage3Url %}
                        </a>

                    {% else %}
                        </span>

                    {% endif %}
                {% endif %}

                {# ThemeWare: Custom image 4 #}
                {% if twtWidgetAwardsCustomImage4 %}
                    {% if twtWidgetAwardsCustomImage4Url and twtWidgetAwardsCustomImage4Link != 1 %}
                        <a href="{{ twtWidgetAwardsCustomImage4Url }}"
                           class="twt-awards-custom-image-link"
                           title="{{ twtWidgetAwardsCustomImage4Title }}"
                           target="_blank"
                           {# @TODO tag:v6.7.0 - Check if aria-label is needed #}
                           rel="noopener{% if twtWidgetAwardsCustomImage4LinkNofollow == 2 %} nofollow{% endif %}"
                        >

                    {% else %}
                        <span class="twt-awards-custom-image-container">

                    {% endif %}

                    {# @TODO tag:v6.7.0 - Check if title is needed #}
                    <img src="{{ twtWidgetAwardsCustomImage4|sw_encode_url }}"
                         alt="{{ twtWidgetAwardsCustomImage4Title }}"
                         title="{{ twtWidgetAwardsCustomImage4Title }}"
                         class="twt-awards-custom-image"
                         width="{{ twtWidgetAwardsImageWidth }}"
                         height="{{ twtWidgetAwardsImageHeight }}"
                         loading="lazy"
                    >

                    {% if twtWidgetAwardsCustomImage4Url %}
                        </a>

                    {% else %}
                        </span>

                    {% endif %}
                {% endif %}

                {# ThemeWare: Custom image 5 #}
                {% if twtWidgetAwardsCustomImage5 %}
                    {% if twtWidgetAwardsCustomImage5Url and twtWidgetAwardsCustomImage5Link != 1 %}
                        <a href="{{ twtWidgetAwardsCustomImage5Url }}"
                           class="twt-awards-custom-image-link"
                           title="{{ twtWidgetAwardsCustomImage5Title }}"
                           target="_blank"
                           {# @TODO tag:v6.7.0 - Check if aria-label is needed #}
                           rel="noopener{% if twtWidgetAwardsCustomImage5LinkNofollow == 2 %} nofollow{% endif %}"
                        >

                    {% else %}
                        <span class="twt-awards-custom-image-container">

                    {% endif %}

                    {# @TODO tag:v6.7.0 - Check if title is needed #}
                    <img src="{{ twtWidgetAwardsCustomImage5|sw_encode_url }}"
                         alt="{{ twtWidgetAwardsCustomImage5Title }}"
                         title="{{ twtWidgetAwardsCustomImage5Title }}"
                         class="twt-awards-custom-image"
                         width="{{ twtWidgetAwardsImageWidth }}"
                         height="{{ twtWidgetAwardsImageHeight }}"
                         loading="lazy"
                    >

                    {% if twtWidgetAwardsCustomImage5Url %}
                        </a>

                    {% else %}
                        </span>

                    {% endif %}
                {% endif %}

                {# ThemeWare: Custom image 6 #}
                {% if twtWidgetAwardsCustomImage6 %}
                    {% if twtWidgetAwardsCustomImage6Url and twtWidgetAwardsCustomImage6Link != 1 %}
                        <a href="{{ twtWidgetAwardsCustomImage6Url }}"
                           class="twt-awards-custom-image-link"
                           title="{{ twtWidgetAwardsCustomImage6Title }}"
                           target="_blank"
                           {# @TODO tag:v6.7.0 - Check if aria-label is needed #}
                           rel="noopener{% if twtWidgetAwardsCustomImage6LinkNofollow == 2 %} nofollow{% endif %}"
                        >

                    {% else %}
                        <span class="twt-awards-custom-image-container">

                    {% endif %}

                    {# @TODO tag:v6.7.0 - Check if title is needed #}
                    <img src="{{ twtWidgetAwardsCustomImage6|sw_encode_url }}"
                         alt="{{ twtWidgetAwardsCustomImage6Title }}"
                         title="{{ twtWidgetAwardsCustomImage6Title }}"
                         class="twt-awards-custom-image"
                         width="{{ twtWidgetAwardsImageWidth }}"
                         height="{{ twtWidgetAwardsImageHeight }}"
                         loading="lazy"
                    >

                    {% if twtWidgetAwardsCustomImage6Url %}
                        </a>

                    {% else %}
                        </span>

                    {% endif %}
                {% endif %}
            </div>
        {% endblock %}

    </div>
{% endblock %}